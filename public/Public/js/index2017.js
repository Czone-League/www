!function(e,t){function a(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function n(e){return i?i+e:e.toLowerCase()}__style=__style||{};var i,r,s,o,l,c,d,p,h,m,f="",u={Webkit:"webkit",Moz:"",O:"o"},_=document.createElement("div"),v=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g={};_.style.transform===t&&e.each(u,function(e,a){if(_.style[e+"TransitionProperty"]!==t){return f="-"+e.toLowerCase()+"-",i=a,!1}}),r=f+"transform",g[s=f+"transition-property"]=g[o=f+"transition-duration"]=g[c=f+"transition-delay"]=g[l=f+"transition-timing-function"]=g[d=f+"animation-name"]=g[p=f+"animation-duration"]=g[m=f+"animation-delay"]=g[h=f+"animation-timing-function"]="",e.fx={off:i===t&&_.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:f,transitionEnd:n("TransitionEnd"),animationEnd:n("AnimationEnd")},e.fn.animate=function(a,n,i,r,s){return e.isFunction(n)&&(r=n,i=t,n=t),e.isFunction(i)&&(r=i,i=t),e.isPlainObject(n)&&(i=n.easing,r=n.complete,s=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:e.fx.speeds[n]||e.fx.speeds._default)/ 1000), s && (s = parseFloat(s) /1000),this.anim(a,n,i,r,s)},e.fn.anim=function(n,i,f,u,_){var b,y,w,C={},k="",x=this,T=e.fx.transitionEnd,D=!1;if(i===t&&(i=e.fx.speeds._default/1000),_===t&&(_=0),e.fx.off&&(i=0),"string"==typeof n){C[d]=n,C[p]=i+"s",C[m]=_+"s",C[h]=f||"linear",T=e.fx.animationEnd}else{y=[];for(b in n){v.test(b)?k+=b+"("+n[b]+") ":(C[b]=n[b],y.push(a(b)))}k&&(C[r]=k,y.push(r)),i>0&&"object"==typeof n&&(C[s]=y.join(", "),C[o]=i+"s",C[c]=_+"s",C[l]=f||"linear")}return w=function(t){if(void 0!==t){if(t.target!==t.currentTarget){return}e(t.target).unbind(T,w)}else{e(this).unbind(T,w)}D=!0,e(this).css(g),u&&u.call(this)},i>0&&(this.bind(T,w),setTimeout(function(){D||w.call(x)},1000*(i+_)+25)),this.size()&&this.get(0).clientLeft,this.css(C),i<=0&&setTimeout(function(){x.each(function(){w.call(this)})},0),this},_=null}(Zepto),function(e){function t(){var e=0,t=0,a=0,n=0,i=0,r=0,s=window,o=document,l=o.documentElement;return e=s.innerWidth||l.clientWidth||o.body.clientWidth||0,t=s.innerHeight||l.clientHeight||o.body.clientHeight||0,n=o.body.scrollTop||l.scrollTop||s.pageYOffset,a=o.body.scrollLeft||l.scrollLeft||s.pageXOffset,i=Math.max(o.body.scrollWidth,l.scrollWidth||0),r=Math.max(o.body.scrollHeight,l.scrollHeight||0,t),{scrollTop:n,scrollLeft:a,documentWidth:i,documentHeight:r,viewWidth:e,viewHeight:t}}function n(e,t,a,n){var i=!1,r=document.createElement("script"),s=document.getElementsByTagName("script")[0],o=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=o.getElementsByTagName("base")[0];r.charset=n||"gb2312",r.src=e,r.async=!0,r.onload=r.onreadystatechange=function(){i||r.readyState&&!/loaded|complete/.test(r.readyState)||(i=!0,r.onload=r.onreadystatechange=r.onerror=null,r.parentNode.removeChild(r),r=null,"function"==typeof t&&t())},r.onerror=function(){r.onload=r.onreadystatechange=r.onerror=null,r.parentNode.removeChild(r),r=null,"function"==typeof a&&a()},s.parentNode?s.parentNode.insertBefore(r,s):l?o.insertBefore(r,l):o.appendChild(r)}function i(e,t){return e>0?t.themeRed:e<0?t.themeGreen:t.themeEqual}function r(e){}function s(){this.chart=null,this.initChart()}function l(e){this.param=e,this.inited=!1}function c(e){}function d(e){this.param=e,this.tempHtml=void 0,this.tempHHtml=void 0,this.inited=0,this.load()}function p(){function n(a){}function i(){var e=m.get(F);if(e){return e}}function p(){if("riseGreen"==v.riseColor){var e=v.chartGreen;v.chartGreen=v.chartRed,v.chartRed=e}v.theme={T_RISE:v.chartRed,T_FALL:v.chartGreen,K_RISE:v.chartRed,K_FALL:v.chartGreen}}function h(){}function f(){e(window).on("resize",function(){x.resizeChart(u),x&&x.chart&&x.chart.resize()})}function _(){var t=E;e(window).scroll(function(){})}function g(){}function b(){}function y(){var t=new r({code:__symbol});new l({dom:null}),T=new l({dom:null,visitObj:t}),v.riseColor=i()?i():"riseRed",p(),x=new s,_(),h(),f(),b()}var w,x,T,L=0,F="hq_userColor",E=0,N=0;var P=0;this.init=y}function h(e){return null}var m={escape:function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},get:function(e){var t=document.cookie.match("(?:^|;)\\s*"+this.escape(e)+"=([^;]*)");return t?t[1]||"":""},set:function(e,t,a){!a&&(a={}),t||(t="",a.expires=-1);var n="";if(a.expires&&(Number(a.expires)||a.expires.toUTCString)){var i;Number(a.expires)?(i=new Date,i.setTime(i.getTime()+1000*a.expires)):i=a.expires,n="; expires="+i.toUTCString()}var r=a.path?"; path="+a.path:"",s=a.domain?"; domain="+a.domain:"",o=a.secure?"; secure":"";document.cookie=[e,"=",t,n,r,s,o].join("")}};var u=null,_=s.prototype;_.initChart=function(){var t=this;KKE.api("plugins.TKChart.get",{wrap:{dom:e("#h5Chart")[0]},chart:{symbol:__symbol,kInitParam:{rate:__rate,theme:v.theme},kChart:{pCharts:[{name:"MA",param:[{v:5,color:"#FC9CB8"},{v:10,color:"#12BDD9"},{v:20,color:"#EE2F72"}]}]},tChart:{toggleExtend:"on",setLineStyle:{linetype:"mountain"}},tInitParam:{rate:__rate,theme:v.theme}},info:{upColor:v.chartRed,downColor:v.chartGreen}},function(e){u=t.chart=e,t.resizeChart(e)})},_.resizeChart=function(a){var n=this,i=t(),r=e("#hq_chart"),s=e("#h5Chart"),o=e("#hqMain"),l=e(".cn-chart");setTimeout(function(){n.resize()?(e("#fix_floating").hide(),e("#fix_header").hide(),window.scrollTo(0,0),(((typeof(__style.cpt)=="undefined")||__style.cpt<=0)?(o.hide(),r.show().height(i.viewHeight+"px").append(s)):void(0)),(a==null?void(0):a.setDirection("horizontal"))):(o.show(),r.hide(),l.append(s),(a==null?void(0):a.setDirection("vertical")))},100)},_.resize=function(){var e=t(),a=e.viewWidth,n=e.viewHeight;return a>n?1:0};var v={cssClass:{riseColor:"red",fallColor:"green",equalColor:"equal",themeRed:"#de3639",themeGreen:"#1bc07d",themeEqual:"#d6d6d6"},riseColor:"riseRed",chartRed:(typeof(__style.upcolor)=="undefined"?"#f11200":__style.upcolor),chartGreen:(typeof(__style.downcolor)=="undefined"?"#23bc01":__style.downcolor),theme:{T_RISE:void 0,T_FALL:void 0,K_RISE:void 0,K_FALL:void 0}};var k;(new p).init()}(Zepto),function(e){function t(t){return this.each(function(){var n=e(this),i=n.data("InfiniteScroll"),r=e.extend({},a.DEFAULT,"object"==typeof t&&t);i||(n.data("infiniteScroll","mounted"),i=new a(n,r)),r.interval&&i.infinite()})}var a=function(t,a){this.$elem=t,this.options=a,this.interval=null,this.rendered=!1,this.relate=this.$elem.data("relate"),e(this.relate).on("click",e.proxy(this.caller,this))};a.DEFAULT={interval:8000,service:""},a.prototype={constructor:a,remoteData:function(){var t=this;e.ajax({type:"GET",url:this.options.service,dataType:"jsonp",success:e.proxy(t.render,t),error:e.proxy(t.error,t)})},render:function(e){console.log("Zepto render");var t="",e=e.result.data;e.forEach(function(e,a){t+='<div class="calendar-scroll-item" data-order="@order"><p class="item-title">@country-\u516c\u5e03@title\u524d\u503c@previous\u9884\u6d4b\u503c@median\u516c\u5e03\u503c@ifr_actual</p><div class="clearfix item-msg"><span class="msg-datetime">@datetime </span><span class="msg-mark"><span style="vertical-align: middle">\u91cd\u8981\u6027:</span>@mark</span></div></div>'.replace("@order",a).replace("@title",e.event).replace("@datetime",e.date+" "+e.time).replace("@country",e.country).replace("\u524d\u503c@previous",e.previous?": \u524d\u503c"+e.previous:"").replace("\u9884\u6d4b\u503c@median",e.median?": \u9884\u6d4b\u503c"+e.median:"").replace("\u516c\u5e03\u503c@ifr_actual",e.ifr_actual?": \u516c\u5e03\u503c"+e.ifr_actual:""),"M"===e.importance&&(t=t.replace("@mark",'<i class="s1"></i><i class="s1"></i><i class="s0"></i><i class="s0"></i>')),"L"===e.importance&&(t=t.replace("@mark",'<i class="s1"></i><i class="s0"></i><i class="s0"></i><i class="s0"></i>')),"H"===e.importance&&(t=t.replace("@mark",'<i class="s1"></i><i class="s1"></i><i class="s1"></i><i class="s0"></i>'))}),this.$elem.html(t)},error:function(e){},caller:function(){var e={eventid:"hq_center_hs",uatrackKey:"hq_center_hs",subname:"callup_calendar",needOpenSource:!1,androidInstallUrl:""};new SinaFinanceCallUp.CallUpSinaFinance(e).tryDirectCall({callpagetype:"36",position:"callup_calendar"})},next:function(){console.log("Zepto next");var e=this.$elem;e.animate({marginTop:"-50px"},function(){e.css("margin-top",0).children("div").first().appendTo(e)})},infinite:function(){!this.rendered&&this.remoteData(),this.rendered=!0,this.interval&&clearInterval(this.interval),this.interval=setInterval(e.proxy(this.next,this),this.options.interval)}},e.fn.InfiniteScroll=t,e.fn.InfiniteScroll.Constructor=a,e('[data-role="InfiniteScroll"]').each(function(){var a=e(this);t.call(a,{})})}(Zepto);
xh5_define("utils.util",[],function(){return function(){function t(t,e){var n=N(e.prototype);n.constructor=t,t.prototype=n}function e(){this.evtObj={}}function n(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}}function o(){return Date.now?Date.now():(new Date).getTime()}function r(t,e){e||(t=t.toLowerCase());for(var n,o=1315423911,r=t.length;r--;){n=t.charCodeAt(r),o^=(o<<5)+n+(o>>2)}return 2147483647&o}function i(t,e,n,o){var r=!1,i=document.createElement("script"),a=document.getElementsByTagName("script")[0],s=document.head||document.getElementsByTagName("head")[0]||document.documentElement,l=s.getElementsByTagName("base")[0];o=o||{};var u;i.charset=o.charset||"gb2312",i.src=t,i.async=!0,i.onload=i.onreadystatechange=function(){if(!r&&(!i.readyState||/loaded|complete/.test(i.readyState))){if(u){var t=new Date-u,n=o.market.toLowerCase(),a=o.type.toLowerCase();T.sima({simadata:{cre:n,mod:a,during:t},symbol:o.symbol,type:o.type})}r=!0,i.onload=i.onreadystatechange=i.onerror=null,i.parentNode.removeChild(i),i=null,"function"==typeof e&&e()}},i.onerror=function(){if(u){var t=new Date-u,e=o.market.toLowerCase(),r=o.type.toLowerCase();T.sima({simadata:{cre:e,mod:r,during:t,error_type:"err"},symbol:o.symbol,type:o.type})}i.onload=i.onreadystatechange=i.onerror=null,i.parentNode.removeChild(i),i=null,"function"==typeof n&&n()},o.market&&o.type&&o.symbol&&(u=new Date),a.parentNode?a.parentNode.insertBefore(i,a):l?s.insertBefore(i,l):s.appendChild(i)}function a(){function t(t){var e=t.style;for(var n in e){e.hasOwnProperty(n)&&(t.dom.style[n]=e[n])}}function e(){for(var t=["@keyframes KKELoading","@-webkit-keyframes KKELoading","@-moz-keyframes KKELoading"],e=0,n=t.length;n>e;e++){u.cssUtil.inject(t[e]+l.scaleY)}}function n(){if(e(),!r){r=u.$C("div"),t({dom:r,style:l.ctn});for(var n=0.1,o=0,i=l.color.length;i>o;o++){var a=u.$C("span");t({dom:a,style:l.item});var s=u.clone(l.delay,s),c=-1+n*o+"s";for(var d in s){s.hasOwnProperty(d)&&(s[d]=c)}t({dom:a,style:s}),a.style.background=l.color[o],r.appendChild(a)}}}function o(){clearTimeout(a),a=setTimeout(function(){"none"!=r.style.display&&(r.style.display="none")},9000)}var r,i,a,s,l={ctn:{width:"40px",height:"30px",margin:0,display:"none",position:"absolute",zIndex:1},item:{display:"inline-block",width:"4px",height:"30px",margin:"0px 2px",borderRadius:"5px",animation:"KKELoading 1.2s infinite",webkitAnimation:"KKELoading 1.2s infinite",MozAnimation:"KKELoading 1.2s infinite"},color:["#FF5472","#FF706E","#FF8762","#FFAF4C","#FFD53E"],delay:{animationDelay:-1,webkitAnimationDelay:-1,MozAnimationDelay:-1},scaleY:"{0%,40%,100%{-moz-transform:scaleY(0.2);-webkit-transform:scaleY(0.2);transform:scaleY(0.2);}20%,60%{-moz-transform:scaleY(1);-webkit-transform:scaleY(1);transform:scaleY(1);}}"};n(),this.appendto=function(t,e){i=t,s=e,i.appendChild(r)},this.setPosition=function(){i&&i.offsetHeight>0?(r.style.top=(i.offsetHeight-m(l.ctn.height))/2+"px",r.style.left=(i.offsetWidth-m(l.ctn.width))/2+"px"):s&&s.DIMENSION.h_t&&(r.style.top=(s.DIMENSION.h_t-m(l.ctn.height))/2+"px",r.style.left=(s.DIMENSION._w-m(l.ctn.width))/2+"px")},this.show=function(){o(),r.style.display=""},this.hide=function(){clearTimeout(a),r.style.display="none"}}function s(t){t=t||{};var e,n,o,r,i,a,s=u.$C("div"),l=70,c=function(){clearTimeout(a),n&&(n.style.display="none",s.innerHTML=""),e&&f(e.closeCb)&&e.closeCb()},d=function(d){if(e=d,clearTimeout(a),!n){n=u.$C("div"),n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.zIndex=l,n.style.top=0,n.style.textAlign="center",o=u.$C("div"),r=u.$C("div"),i=u.$C("span"),s.style.fontSize="12px",s.style.margin="9px auto",o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.width="100%",o.style.height="100%",o.style.backgroundColor=t.TIP_ARR?t.TIP_ARR[2]||"#fff":"#fff",o.style.opacity=0.5,o.style.filter="alpha(opacity=50)",r.style.padding="1px 3px 10px",r.style.top=t.TIP_ARR?t.TIP_ARR[4]||"26%":"26%",r.style.position="relative",r.style.margin="0 auto",r.style.width="100%",i.style.cursor="pointer",i.style.display="block",i.style.margin="0 auto",i.style.lineHeight=i.style.height="28px",i.style.width="60px",i.style.fontSize="14px",i.style.borderRadius="3px",u.xh5_EvtUtil.addHandler(i,"click",c),r.appendChild(s);var h=!(!t.TIP_ARR||!t.TIP_ARR[3]);!h&&n.appendChild(o),n.appendChild(r)}n.style.display="",s.style.color="undefined"!=typeof d.fontColor?d.fontColor:t.TIP_ARR?t.TIP_ARR[1]||"#fff":"#fff";var f=t.TIP_ARR?t.TIP_ARR[0]||"#000":"#000";if(r.style.backgroundColor=u.xh5_BrowserUtil.noH5?f:u.hex2dec(f,0.8),d.bgStyle){for(var p in d.bgStyle){d.bgStyle.hasOwnProperty(p)&&(r.style[p]=d.bgStyle[p])}}if(s.innerHTML=d.txt||"",d.content&&s.appendChild(d.content),!isNaN(d.autoHide)&&d.autoHide>0&&setTimeout(c,1000*d.autoHide),d.noBtn?u.$CONTAINS(r,i)&&r.removeChild(i):(i.innerHTML=d.btnLb||"\u786e\u5b9a",i.style.background=t.BTN_ARR?t.BTN_ARR[0]||"#2b9dfc":"#2b9dfc",i.style.color=t.BTN_ARR?t.BTN_ARR[1]||"#fff":"#fff",!u.$CONTAINS(r,i)&&r.appendChild(i)),d.extraBtn){for(var g=0,v=d.extraBtn,m=v.length;
m>g;g++){var y=v[g],b=u.$C("input");b.type="button",b.value=y.value,b.style.marginTop="20px",b.style.cursor="pointer",u.xh5_EvtUtil.addHandler(b,"click",y.onClk),r.appendChild(b)}}return d.parent.appendChild(n),n};this.genTip=d,this.hide=c}function l(){var t="hq";return location.hostname.indexOf("sina.cn")>-1&&(t="w",location.pathname.indexOf("appchart")>-1&&(t="a")),t}this.VER="2.3.5";var u=this,c=function(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}},d=c("Object"),h=c("String"),f=c("Function"),p=c("Array"),g=c("Number"),v=c("Date");this.isObj=d,this.isStr=h,this.isFunc=f,this.isArr=p,this.isNum=g,this.isDate=v;var m=function(t){return parseInt(t,10)};this.uz=function(b){var m=String.fromCharCode;var s=window.atob(b);var c=s.split("").map(function(x){return x.charCodeAt(0)});var bd=new Uint8Array(c);var ar=pako.inflate(bd);var r="";var ck=8*1024;var i;if(typeof(ar.slice)=="undefined"||ar.slice==undefined){for(i=0;i<ar.length/ck;i++){r+=m.apply(null,ar.subarray(i*ck,(i+1)*ck))}r+=m.apply(null,ar.subarray(i*ck))}else{for(i=0;i<ar.length/ck;i++){r+=m.apply(null,ar.slice(i*ck,(i+1)*ck))}r+=m.apply(null,ar.slice(i*ck))}return r};this.uae=function(t){for(var e,n=[],o={},r=0,i=t.length;i>r;r++){e=t[r],1!==o[e]&&(o[e]=1,n[n.length]=e)}return n};var y=new function(){var t;if(XMLHttpRequest){t=new XMLHttpRequest}else{if(ActiveXObject){try{t=new ActiveXObject("MSXML2.XMLHTTP")}catch(e){try{t=new ActiveXObject("Microsoft.XMLHTTP")}catch(n){}}}}this.send=function(e,n,o,r){if(!t||!e){return void (o&&o("error while sending"))}if(e+=e.indexOf("?")<0?"?":"&",e+="_="+(new Date).getTime(),r=r||"POST",t.onreadystatechange=function(){if(4==t.readyState){var e;200==t.status&&(e=t.responseText),o&&o(e)}},t.open(r,e,!0),"POST"==r){t.setRequestHeader("Content-Type","application/x-www-form-urlencoded;");var i="";for(var a in n){n.hasOwnProperty(a)&&(i+=[encodeURIComponent(a),encodeURIComponent(n[a])].join("=")+"&")}t.send(i)}else{t.send(null)}}};this.POST="undefined"!=typeof jQuery&&jQuery.post?jQuery.post:y.send,this.trace=function(t){return{log:function(){t&&t.log&&t.log.apply(t,arguments)},error:function(){t&&t.error&&t.error.apply(t,arguments)}}}(null);var b=function(t,e){var n=-1;if(t.indexOf){n=t.indexOf(e)}else{for(var o=t.length;o--;){if(t[o]===e){n=o;break}}}return n};this.arrIndexOf=b;var x=function(t,e){if(null==t||"object"!=typeof t){return t}if(t.constructor==Date||t.constructor==RegExp||f(t)||h(t)||t.constructor==Number||t.constructor==Boolean){return new t.constructor(t)}e=e||new t.constructor;for(var n in t){t.hasOwnProperty(n)&&(e[n]="undefined"==typeof e[n]?x(t[n],null):e[n])}return e};this.clone=x;var w=function(t){if(!t){return t}var e={};for(var n in t){t.hasOwnProperty(n)&&(e[n]=t[n])}return e};this.co=w,this.oc=function(t,e){if(!t){return e}for(var n in e){e.hasOwnProperty(n)&&(t[n]=d(t[n])&&d(e[n])?arguments.callee(t[n],e[n]):e[n])}return t};var N=function(t){function e(){}return e.prototype=t,new e};this.fInherit=t,this.urlUtil=new function(){this.getUrlParam=function(){var t,e={};try{t=location.search.substring(1)}catch(n){}if(t){for(var o,r,i,a=t.split("&"),s=a.length,l=0;s>l;l++){i=a[l].indexOf("="),-1!=i&&(o=a[l].substring(0,i),r=a[l].substring(i+1),e[o]=r)}}return e},this.getMainUrl=function(){return window.location!=window.parent.location?document.referrer:document.location.href}},this.xh5_BrowserUtil=new function(){this.info=function(){var t,e=navigator.userAgent,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?(t=/\brv[ :]+(\d+)/g.exec(e)||[],{name:"IE ",version:t[1]||""}):"Chrome"===n[1]&&(t=e.match(/\bOPR\/(\d+)/),null!=t)?{name:"Opera",version:t[1]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),{name:n[0],version:n[1]})}(),this.noH5=!1,this.hdpr=function(t){var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var n=Math.ceil(window.devicePixelRatio||1),o=e.getContext("2d").webkitBackingStorePixelRatio||1;return n/o}return t.noH5=!0,1}(this)},this.xh5_deviceUtil=function(){return{istd:function(){if("ontouchend" in window){var t;try{t=navigator.userAgent}catch(e){}return t&&t.indexOf("Windows NT")>0?!1:!0}return !1}(),allowt:"ontouchend" in window}}();var A=function(){function t(t){return t=JSON.stringify(t),t||(t=""),t=encodeURIComponent(t)}function e(t){try{t=JSON.parse(t)}catch(e){t=decodeURIComponent(t)}return t}function n(e,n,o){if(o=o||{},void 0!=e&&void 0!=n){var r,i,a,s;i=o.path?"; path="+o.path:"",a=o.domain?"; domain="+o.domain:"",s=o.secure?"; secure":"";var l,c=o.expires;switch(u(c)){case"Number":l=new Date,l.setTime(l.getTime()+1000*c);break;case"String":l=new Date(c),"Invalid Date"==l&&(l="");break;case"Date":l=c}r=l?"; expires="+l.toUTCString():"",document.cookie=[encodeURIComponent(e),"=",t(n),r,i,a,s].join("")}}function o(t){var n=document.cookie.match("(?:^|;)\\s*"+encodeURIComponent(t)+"=([^;]*)");return n?e(n[1])||"":null
}function r(t){document.cookie=encodeURIComponent(t)+"=;expires="+new Date(0).toUTCString()}function i(e,n){void 0!=e&&void 0!=n&&localStorage.setItem(encodeURIComponent(e),t(n))}function a(t){var n=localStorage.getItem(encodeURIComponent(t));return e(n)}function s(t){localStorage.removeItem(encodeURIComponent(t))}var l=Object.prototype.toString,u=function(t){return null===t?"Null":void 0===t?"Undefined":l.call(t).slice(8,-1)},c=function(){if("object"==typeof localStorage&&localStorage&&localStorage.setItem){var t="KKE_LOCALSTORAGE_TESTing";try{return localStorage.removeItem(t),localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch(e){return !1}}return !1}();return{hasls:c,save:function(t,e,o){o=o||{};var r=o.mode;if(r){switch(r){case"localStorage":if(!c){return}i(t,e);break;case"cookie":n(t,e,o)}}else{if(c){try{s(t),i(t,e)}catch(a){}}else{n(t,e,o)}}},load:function(t,e){var n;if("Object"==u(e)&&(e=e.mode),e){switch(e){case"localStorage":if(!c){return}n=a(t);break;case"cookie":n=o(t)}}else{c&&(n=a(t)),!n&&(n=o(t))}return n},remove:function(t,e){if("Object"==u(e)&&(e=e.mode),e){switch(e){case"localStorage":if(!c){return}s(t);break;case"cookie":r(t)}}else{c&&s(t),r(t)}},clear:function(t){c&&s(t)}}}();this.localSL=A,this.xh5_EvtUtil={addHandler:function(t,e,n){t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},removeHandler:function(t,e,n){t&&(t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null)},getEvent:function(t){return t?t:window.event},getTarget:function(t){return !t&&(t=this.getEvent()),t?t.target||t.srcElement:null},preventDefault:function(t){!t&&(t=this.getEvent()),t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(t){!t&&(t=this.getEvent()),t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},getRelatedTarget:function(t){return !t&&(t=this.getEvent()),t.relatedTarget?t.relatedTarget:t.toElement?t.toElement:t.fromElement?t.fromElement:null},getWheelDelta:function(t){return !t&&(t=this.getEvent()),t?t.wheelDelta?client.engine.opera&&client.engine.opera<9.5?-t.wheelDelta:t.wheelDelta:40*-t.detail:0}},e.prototype.al=function(t,e,n){n&&this.evtObj[t]||(!this.evtObj[t]&&(this.evtObj[t]=[]),this.evtObj[t].push(e))},e.prototype.rl=function(t,e){var n=this.evtObj[t];if(p(n)){for(var o=n.length;o--;){n[o]==e&&n.splice(o,1)}}},e.prototype.re=function(t,e){var n=this.evtObj[t];if(p(n)){for(var o=0,r=n.length;r>o;o++){"function"==typeof n[o]&&n[o](t,e)}}},this.xh5_EvtDispatcher=e,this.$DOM=function(t,e){return e=e||document,e.getElementById(t)},this.$C=function(t,e){var n=document.createElement(t);return e&&(n.id=e),n},this.$T=function(t){return document.createTextNode(t)},this.$CONTAINS=function(t,e){if(t.compareDocumentPosition){return t===e||!!(16&t.compareDocumentPosition(e))}if(t.contains&&1===e.nodeType){return t.contains(e)&&t!==e}for(;e=e.parentNode;){if(e===t){return !0}}return !1},this.getTextNodes=function(t){var e=[];for(t=t.firstChild;t;t=t.nextSibling){3==t.nodeType?e.push(t):e=e.concat(arguments.callee(t))}return e},this.getCSS=function(t){var e=null;return e=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle},this.fBind=n,this.isColor=function(t){return/^#[0-9a-fA-F]{3,6}$/.test(t)},this.isColorRGB=function(t){return/(^#[0-9a-fA-F]{3,6}$)|(^rgba?\(.{5,16}\)$)/.test(t)},this.randomColor=function(){for(var t=Math.floor(16777215*Math.random()).toString(16);t.length<6;){t+="0"}return t},this.hex2dec=function(t,e,n){if(0==t.indexOf("rgb")){return t}t=t.replace(/#|0x/i,"");var o,r,i;t.replace(/(\w{6})|(\w{3})/,function(e,n,a){if(n){o=t.slice(0,2),r=t.slice(2,4),i=t.slice(4)}else{if(!a){return[0,0,0]}var s=t.split("");o=s[0],o+=String(o),r=s[1],r+=String(r),i=s[2],i+=String(i)}});var a;return isNaN(e)?(a=[parseInt(o,16),parseInt(r,16),parseInt(i,16)],n?a:"rgb($color)".replace("$color",a.join(","))):(a=[parseInt(o,16),parseInt(r,16),parseInt(i,16),e],n?a:"rgba($color)".replace("$color",a.join(",")))},this.getTimestamp=o,this.cssUtil={inject:function(t){var e=document.createElement("style"),n=document.head||document.getElementsByTagName("head")[0]||document.documentElement;e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),n.appendChild(e)},adCls:function(t,e){if(t.className!=e){var n=t.className.split(" ");for(var o in n){if(n.hasOwnProperty(o)&&n[o]==e){return}}""==t.className?t.className=e:t.className+=" "+e}},rmCls:function(t,e){if(-1!=t.className.indexOf(e)){if(t.className==e){t.className=""}else{var n=t.className.split(" "),o="";for(var r in n){if(n.hasOwnProperty(r)){if(n[r]==e){continue}""!=o&&(o+=" "),o+=n[r]}}t.className=o}}}},this.load=i;var C,k=new function(){var t=C||{};C=t;var e=function(e,n){for(var o=t[e][n?"errCbArr":"cbArr"],r=o.length;r--;){var i=o[r];f(i)&&i()}t[e]=null,delete t[e]};this.load=function(o,a,s,l){var u="urlhash_"+r(o);for(var c in t){if(t.hasOwnProperty(c)&&c==u){return t[c].cbArr.push(a),void t[c].errCbArr.push(s)
}}t[u]={url:o,cbArr:[a],errCbArr:[s]},i(o,n(e,this,u),n(e,this,u,!0),l)}};this.relyLoader=k,this.iframer=function(t,e){function n(){if(document&&document.body){clearInterval(r),a=0;var t=document.body;t.insertBefore(o,t.firstChild),o.setAttribute("data-ready","1")}else{a++>9&&(clearInterval(r),f(e)&&e())}}var o,r,i=t.attribute?t.attribute.id||"_kkeiframe"+(new Date).getTime():"_kkeiframe"+(new Date).getTime(),a=0;if(!(o=document.getElementById(i))){if(o=document.createElement("iframe"),o.setAttribute("data-ready","0"),t.attribute){for(var s in t.attribute){t.attribute.hasOwnProperty(s)&&(o[s]=t.attribute[s])}}if(o.style.height=o.style.width=0,o.style.borderStyle="none",o.style.position="absolute",o.style.zIndex=-9,o.style.display="none",t.style){for(var l in t.style){t.style.hasOwnProperty(l)&&(o.style[l]=t.style[l])}}r=setInterval(n,500),n()}return o},this.ca=function(t){if(t){for(;t.length>0;){t.length--}}},this.isRepos=function(t){return/^(sh204\d{3}|sz1318\d{2})$/.test(t)},this.market=function(t){return"forex"},this.cookieUtil={escape:function(t){return t.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},get:function(t){var e=document.cookie.match("(?:^|;)\\s*"+this.escape(t)+"=([^;]*)");return e?e[1]||"":""},set:function(t,e,n){!n&&(n={}),e||(e="",n.expires=-1);var o="";if(n.expires&&(Number(n.expires)||n.expires.toUTCString)){var r;Number(n.expires)?(r=new Date,r.setTime(r.getTime()+1000*n.expires)):r=n.expires,o="; expires="+r.toUTCString()}var i=n.path?"; path="+n.path:"",a=n.domain?"; domain="+n.domain:"",s=n.secure?"; secure":"";document.cookie=[t,"=",e,o,i,a,s].join("")}};var T=new function(){function t(e){i(e.url,function(){for(var t=e.f();t&&e.q.length;){var n=e.q.shift();t.apply(null,n)}},function(){--e.count&&t(e),e.count<1&&(e.q=[])})}function e(e){setTimeout(function(){var n=!!e.f();!n&&t(e)},2000)}function n(t){if("undefined"!=typeof SIMA){for(var e,n=s.length;n--;){if(e=s[n],e.symbol==t.symbol&&e.type==t.type){return}}s.push(t)}var o=t.simadata,r={action:"hq",data:o,pk:"179824"};try{SIMA(r)}catch(i){a.count&&a.q.push([t])}}var o=navigator.userAgent||"unknownUa";o=encodeURIComponent("_UA_"+o);var r={url:"",q:[],count:5,f:function(){return void 0}},a={url:"",q:[],count:5,f:function(){return"undefined"==typeof SIMA?void 0:n}};e(a),e(r);var s=[];this.sima=n;var l,u,c=[],d=function(){for(var t,e="chart_finance",n="",i=",",a="",s=0,u=c.length;u>s;s++){t=c[s],a+=[t.k,t.v].join(n)+i}for(;c.length;){c.length--}if(a!==l){l=a,a+=o;try{SUDA.uaTrack(e,a)}catch(d){r.count&&r.q.push([e,a])}}};this.s=function(t,e,n){if(t){(isNaN(n)||0>n)&&(n=3000),e=JSON.stringify(e),e||(e=""),e=encodeURIComponent(e);for(var o=c.length;o--;){if(c[o].k==t){c.splice(o,1);break}}c.push({k:t,v:e}),clearTimeout(u),u=setTimeout(d,n)}};var h,f;this.s2=function(t,e,n){},this.log=function(){}};this.sudaLog=T.log,this.stc=T.s,this.suda=T.s2,this.xh5_PosUtil={pp:function(t,e,n,o){return isNaN(t)||e>=t?o:t>=n?1:Math.max(o*(1-(t-e)/(n-e)),1)},ppp:function(t,e,n,o,r){return t=(t-r)/r,this.pp(t,e,n,o)},vp:function(t,e,n){return isNaN(t)||0>=t?n-1:n*(1-t/e)}},this.xh5_HtmlPosUtil={pageX:function(t){return t.offsetParent?t.offsetLeft+this.pageX(t.offsetParent):t.offsetLeft},pageY:function(t){return t.offsetParent?t.offsetTop+this.pageY(t.offsetParent):t.offsetTop},parentX:function(t){return t.parentNode==t.offsetParent?t.offsetLeft:this.pageX(t)-this.pageX(t.parentNode)},parentY:function(t){return t.parentNode==t.offsetParent?t.offsetTop:this.pageY(t)-this.pageY(t.parentNode)}},this.xh5_ADJUST_HIGH_LOW=new function(){var t=function(t){var e=parseInt(Math.round(100*t));return e%100!=0&&(e%10==0&&(e*=0.1),e%5!=0&&e%2!=0)?!0:!1},e=function(t,e){if(e){for(;t>5;){if(t%2==0){t*=0.5}else{if(t%3!=0){break}t/=3}}}else{t>9&&(t%3==0?t/=3:t%4==0?t*=0.25:t%2==0&&(t*=0.5))}return t};this.c=function(n,o,r,i,a,s){if(isNaN(n)||isNaN(o)||o>n){return[0,0,0]}isNaN(s)||(s=(n-o)*s,n+=s,o-=s);for(var l,u,c,d,h,f,p,g,v,m,y,b,x,w,N=-0.000001,A=0.5*(o+n),C=i?[4,5,6,8,9,10,12,15,16,18,20]:[4,5,6,7,8,9,10,12,14,15,16,18,20],k=[1,2,3,4,5,6,8],T=!1,S=k.length,P=0,H=C.length;H>P;P++){for(T=!1,x=C[P],c=(n-o)/x,g=Math.pow(10,0-r);!T;){for(w=0;S>w;w++){if(d=g*k[w],d-c>N&&(1&x?(h=Math.round((A+0.5*d)/d)*d,y=(h+0.5*(x-1)*d).toFixed(5),b=(h-0.5*(x+1)*d).toFixed(5)):(h=Math.round(A/d)*d,y=(h+0.5*x*d).toFixed(5),b=(h-0.5*x*d).toFixed(5)),f=Number(y),p=Number(b),f-n>N&&N>p-o)){if(T=!0,0>p&&!a&&(f-=p,p=0),!v){v=f-p,l=f,u=p,m=x;break}var D=(f-p)/e(x);if(1!=Math.round(100*D)&&1!=Math.round(10*D)&&t(D)){break}if(f-p>v){break}if(f-p==v){var F=l-n,O=o-u,M=Math.abs(F-O);F=f-n,O=o-p;var L=Math.abs(F-O);if(L>=M){break}}if(t(f)){break}if(t(p)){break}v=f-p,l=f,u=p,m=x;break}}g*=10}}return m=e(m,i),[l,u,m]}},this.xh5_S_KLC_D=function(t){var e,n,o,r,i,a,s,l=86400000,u=7657,c=[],d=[],h=~(3<<30),f=1<<30,p=[0,3,5,6,9,10,12,15,17,18,20,23,24,27,29,30],g=Math,v=function(){var l,u;for(l=0;64>l;l++){d[l]=g.pow(2,l),26>l&&(c[l]=m(l+65),c[l+26]=m(l+97),10>l&&(c[l+52]=m(l+48)))}for(c.push("+","/"),c=c.join(""),n=t.split(""),o=n.length,l=0;
o>l;l++){n[l]=c.indexOf(n[l])}return r={},e=a=0,i={},u=w([12,6]),s=63^u[1],{_1479:k,_136:C,_200:A,_139:T,_197:S}["_"+u[0]]||function(){return[]}},m=String.fromCharCode,y=function(t){return t==={}._},b=function(){var t,e;for(t=x(),e=1;;){if(!x()){return e*(2*t-1)}e++}},x=function(){var t;return e>=o?0:(t=n[e]&1<<a,a++,a>=6&&(a-=6,e++),!!t)},w=function(t,r,i){var s,l,u,c,h;for(l=[],u=0,r||(r=[]),i||(i=[]),s=0;s<t.length;s++){if(c=t[s],u=0,c){if(e>=o){return l}if(t[s]<=0){u=0}else{if(t[s]<=30){for(;h=6-a,h=c>h?h:c,u|=(n[e]>>a&(1<<h)-1)<<t[s]-c,a+=h,a>=6&&(a-=6,e++),c-=h,!(0>=c);){}r[s]&&u>=d[t[s]-1]&&(u-=d[t[s]])}else{u=w([30,t[s]-30],[0,r[s]]),i[s]||(u=u[0]+u[1]*d[30])}}l[s]=u}else{l[s]=0}}return l},N=function(t){var e,n,o,i;for(t>1&&(e=0),e=0;t>e;e++){r.d++,o=r.d%7,(3==o||4==o)&&(r.d+=5-o)}return n=new Date,i=60*n.getTimezoneOffset()*1000,n.setTime((u+r.d)*l+i),n.setHours(n.getHours()+8),n},A=function(){var t,n,i,a,l;if(s>=1){return[]}for(r.d=w([18],[1])[0]-1,i=w([3,3,30,6]),r.p=i[0],r.ld=i[1],r.cd=i[2],r.c=i[3],r.m=g.pow(10,r.p),r.pc=r.cd/r.m,n=[],t=0;a={d:1},x()&&(i=w([3])[0],0==i?a.d=w([6])[0]:1==i?(r.d=w([18])[0],a.d=0):a.d=i),l={date:N(a.d)},x()&&(r.ld+=b()),i=w([3*r.ld],[1]),r.cd+=i[0],l.close=r.cd/r.m,n.push(l),!(e>=o)&&(e!=o-1||63&(r.c^t+1));t++){}return n[0].prevclose=r.pc,n},C=function(){var t,n,i,a,l,u,c,d,h,f,p;if(s>=2){return[]}for(c=[],h={v:"volume",p:"price",a:"avg_price"},r.d=w([18],[1])[0]-1,d={date:N(1)},i=w(1>s?[3,3,4,1,1,1,5]:[4,4,4,1,1,1,3]),t=0;7>t;t++){r[["la","lp","lv","tv","rv","zv","pp"][t]]=i[t]}for(r.m=g.pow(10,r.pp),s>=1?(i=w([3,3]),r.c=i[0],i=i[1]):(i=5,r.c=2),r.pc=w([6*i])[0],d.pc=r.pc/r.m,r.cp=r.pc,r.da=0,r.sa=r.sv=0,t=0;!(e>=o)&&(e!=o-1||7&(r.c^t));t++){for(l={},a={},f=r.tv?x():1,n=0;3>n;n++){if(p=["v","p","a"][n],(f?x():0)&&(i=b(),r["l"+p]+=i),u="v"==p&&r.rv?x():1,i=w([3*r["l"+p]+("v"==p?7*u:0)],[!!n])[0]*(u?1:100),a[p]=i,"v"==p){if(!(l[h[p]]=i)&&241>t&&(r.zv?!x():1)){a.p=0;break}}else{"a"==p&&(r.da=(1>s?0:r.da)+a.a)}}r.sv+=a.v,l[h.p]=(r.cp+=a.p)/r.m,r.sa+=a.v*r.cp,l[h.a]=y(a.a)?t?c[t-1][h.a]:l[h.p]:r.sv?((g.floor((r.sa*(2000/r.m)+r.sv)/r.sv)>>1)+r.da)/1000:l[h.p]+r.da/1000,c.push(l)}return c[0].date=d.date,c[0].prevclose=d.pc,c},k=function(){var t,e,n,o,i,a,l;if(s>=1){return[]}for(r.lv=0,r.ld=0,r.cd=0,r.cv=[0,0],r.p=w([6])[0],r.d=w([18],[1])[0]-1,r.m=g.pow(10,r.p),i=w([3,3]),r.md=i[0],r.mv=i[1],t=[];i=w([6]),i.length;){if(n={c:i[0]},o={},n.d=1,32&n.c){for(;;){if(i=w([6])[0],63==(16|i)){l=16&i?"x":"u",i=w([3,3]),n[l+"_d"]=i[0]+r.md,n[l+"_v"]=i[1]+r.mv;break}if(32&i){a=8&i?"d":"v",l=16&i?"x":"u",n[l+"_"+a]=(7&i)+r["m"+a];break}if(a=15&i,0==a?n.d=w([6])[0]:1==a?(r.d=a=w([18])[0],n.d=0):n.d=a,!(16&i)){break}}}o.date=N(n.d);for(a in {v:0,d:0}){y(n["x_"+a])||(r["l"+a]=n["x_"+a]),y(n["u_"+a])&&(n["u_"+a]=r["l"+a])}for(n.l_l=[n.u_d,n.u_d,n.u_d,n.u_d,n.u_v],l=p[15&n.c],1&n.u_v&&(l=31-l),16&n.c&&(n.l_l[4]+=2),e=0;5>e;e++){l&1<<4-e&&n.l_l[e]++,n.l_l[e]*=3}n.d_v=w(n.l_l,[1,0,0,1,1],[0,0,0,0,1]),a=r.cd+n.d_v[0],o.open=a/r.m,o.high=(a+n.d_v[1])/r.m,o.low=(a-n.d_v[2])/r.m,o.close=(a+n.d_v[3])/r.m,i=n.d_v[4],"number"==typeof i&&(i=[i,i>=0?0:-1]),r.cd=a+n.d_v[3],l=r.cv[0]+i[0],r.cv=[l&h,r.cv[1]+i[1]+!!((r.cv[0]&h)+(i[0]&h)&f)],o.volume=(r.cv[0]&f-1)+r.cv[1]*f,t.push(o)}return t},T=function(){var t,e,n,o;if(s>1){return[]}for(r.l=0,o=-1,r.d=w([18])[0]-1,n=w([18])[0];r.d<n;){e=N(1),0>=o?(x()&&(r.l+=b()),o=w([3*r.l],[0])[0]+1,t||(t=[e],o--)):t.push(e),o--}return t},S=function(){var t,n,i,a;if(s>=1){return[]}for(r.f=w([6])[0],r.c=w([6])[0],i=[],r.dv=[],r.dl=[],t=0;t<r.f;t++){r.dv[t]=0,r.dl[t]=0}for(t=0;!(e>=o)&&(e!=o-1||7&(r.c^t));t++){for(a=[],n=0;n<r.f;n++){x()&&(r.dl[n]+=b()),r.dv[n]+=w([3*r.dl[n]],[1])[0],a[n]=r.dv[n]}i.push(a)}return i};return v()()};var S={dd:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},ddt:function(t){return new Date(t.getTime())},stbd:function(t,e){return t&&e&&t.getFullYear()==e.getFullYear()&&t.getMonth()==e.getMonth()?t.getDate()==e.getDate():!1},stbdt:function(t,e){return t&&e?t.getTime()==e.getTime():!1},stbs:function(t,e,n,o){return t.getFullYear()==e&&t.getMonth()==n?t.getDate()==o:!1},stbds:function(t,e,n){!n&&(n="-");var o=e.split(n);return this.stbs(t,Number(o[0]),Number(o[1])-1,Number(o[2]))},ds:function(t,e,n,o,r,i){"undefined"==typeof e&&(e="-");var a=[];if(o||a.push(t[n?"getUTCFullYear":"getFullYear"]()),!r){var s=t[n?"getUTCMonth":"getMonth"]()+1;a.push(10>s?"0"+s:s)}if(!i){var l=t[n?"getUTCDate":"getDate"]();a.push(10>l?"0"+l:l)}return a.join(e)},dss:function(t,e,n){var o=this.ds(t,e,n),r=[t["get"+(n?"UTC":"")+"Hours"]()],i=[t["get"+(n?"UTC":"")+"Minutes"]()],a=[t["get"+(n?"UTC":"")+"Seconds"]()],s=[10>r?"0"+r:r,10>i?"0"+i:i,10>a?"0"+a:a].join(":");return[o,s].join(" ")},dst:function(t,e,n){var o=[t["get"+(n?"UTC":"")+"Hours"]()],r=[t["get"+(n?"UTC":"")+"Minutes"]()],i=[10>o?"0"+o:o,10>r?"0"+r:r];if(e){var a=[t["get"+(n?"UTC":"")+"Seconds"]()];i.push(10>a?"0"+a:a)}return i.join(":")},sd:function(t,e){var n=t.split("-"),o=n[0],r=n[1]-1||0,i=n[2]||1,a=0,s=0,l=0;
return e&&(n=e.split(":"),a=n[0]||0,s=n[1]||0,l=n[2]||0),new Date(o,r,i,a,s,l)},ssd:function(t){var e=t.split(" "),n=e[0],o=e[1];return this.sd(n,o)},gw:function(t,e){var n=604800000,o=259200000,r=(t.getTime()-o)/n,i=(e.getTime()-o)/n;return Math.floor(r)==Math.floor(i)},gm:function(t,e){return t.getFullYear()==e.getFullYear()?t.getMonth()==e.getMonth():!1},weekname:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u65e5"],nw:function(t){return this.weekname[t]||""}};this.dateUtil=S,this.LoadingSign=a;var P={trim:function(t){return t.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,"")},ps:function(t,e){if(t=Number(t),isNaN(t)){return"-"}var n=Math.abs(t);return 100000>n?t.toFixed(e):10000000>n?(t/10000).toFixed(e)+"\u4e07":100000000>n?(t/10000000).toFixed(e)+"\u5343\u4e07":(t/100000000).toFixed(e)+"\u4ebf"},nu:function(t){return t=Number(t),t=Math.abs(t),100000>t||isNaN(t)?[1,""]:10000000>t?[10000,"\u4e07"]:100000000>t?[10000000,"\u5343\u4e07"]:[100000000,"\u4ebf"]},vs:function(t,e){var n,o="";return t>1000000000000?(n=(t/1000000000000).toFixed(0),o="\u4e07\u4ebf"):t>100000000?(n=(t/100000000).toFixed(2),o="\u4ebf"):t>100000?(n=(t/10000).toFixed(2),o="\u4e07"):n=t>=1?t.toFixed(0):"-",e?n+o:n},zp:function(t){return t=String(t),t.length<2?"0"+t:t}};this.strUtil=P,this.tUtil={s0:function(t){return t=parseInt(Number(t)),0>t?"":10>t?"0"+String(t):String(t)},tIWS:function(t,e){for(var n=[],o=t;e>=o;o++){n.push(this.s0(o/60)+":"+this.s0(o%60))}return n},gtr:function(t){for(var e,n,o,r,i,a=[],s=0,l=t.length;l>s;s++){e=t[s][0],n=t[s][1],o=60*Number(e.split(":")[0])+Number(e.split(":")[1]),r=60*Number(n.split(":")[0])+Number(n.split(":")[1]),i=this.tIWS(o,r),a=a.concat(i)}return a},tradingA:[],gta:function(){return this.tradingA.length||(this.tradingA=this.gtr([["9:30","11:29"],["13:00","15:00"]])),this.tradingA},tradingUs:[],gtus:function(){return this.tradingUs.length||(this.tradingUs=this.gtr([["9:30","16:00"]])),this.tradingUs},tradingHk:[],gthk:function(){return this.tradingHk.length||(this.tradingHk=this.gtr([["09:30","11:59"],["13:00","16:00"]])),this.tradingHk},trading:[],gtAll:function(t){return this.trading=this.gtr(t),this.trading},gata:function(t,e){var n;switch(t){case"US":n=this.gtus();break;case"HK":n=this.gthk();break;case"NF":n=this.gtAll(e);break;case"forex":n=this.gtAll(e);break;case"HF":case"global_index":e=e||[["00:00","23:59"]];n=this.gtAll(e);break;default:case"CN":n=this.gta()}return n},ist:function(t,e){return t=t.toUpperCase(),b(this.gata(t),e)>=0},gltbt:function(t,e,n,o,r,i){for(var a,s=[],l=this.gata(o,i),u=l.length,c=0,d=0,h=t*u;h>c;c++){a={time:l[c%u],price:0,percent:0,avg_price:0,volume:-0.01,inventory:0},c%u==0&&r&&(a.date=r[d],d++),s.push(a),n||(s[c].price=s[c].avg_price=e)}return s[0].price=s[0].avg_price=s[0].prevclose=e,s[0].volume=s[0].totalVolume=s[0].totalAmount=0,s[0].inventory=0,s},azft:function(t,e){if(!t){return t}for(var n=this.gata(e),o=0,r=t.length;r>o;o++){t[o].time=n[o]}return t[0].date.setHours(0),t}},this.kUtil={mw:function(t,e,n,o,r){"number"!=typeof o&&(o=0);var i=t.length,a=t[0];o>1&&(a.volume/=o);var s,l=[],u=[];if(1==i){l[0]={open:e.open,high:e.high,low:e.low,close:e.price,volume:e.totalVolume,date:S.dd(e.date)},u[0]={open:e.open,high:e.high,low:e.low,close:e.price,volume:e.totalVolume,date:S.dd(e.date)}}else{for(var c,d=a.open,h=a.high,f=a.low,p=a.close,g=a.volume,v=a.date,m=a.open,y=a.high,b=a.low,x=a.close,w=a.volume,N=a.date,A=1;i>A;A++){a=t[A],o>1&&(a.volume/=o),S.gw(t[A-1].date,a.date)?(a.high>h&&(h=a.high),a.low<f&&(f=a.low),p=a.close,g+=a.volume,v=a.date):(isNaN(r)||(s=v.getDay(),0==s&&(s=7),c=s-r,c>0&&(v=S.ddt(v),v.setDate(v.getDate()-c))),l.push({open:d,high:h,low:f,close:p,volume:g,date:v}),d=a.open,h=a.high,f=a.low,p=a.close,g=a.volume,v=a.date),S.gm(t[A-1].date,a.date)?(a.high>y&&(y=a.high),a.low<b&&(b=a.low),x=a.close,w+=a.volume,N=a.date):(isNaN(r)||(s=N.getDay(),0==s&&(s=7),c=s-r,c>0&&(N=S.ddt(N),N.setDate(N.getDate()-c))),u.push({open:m,high:y,low:b,close:x,volume:w,date:N}),m=a.open,y=a.high,b=a.low,x=a.close,w=a.volume,N=a.date),A==i-1&&(l.push({open:d,high:h,low:f,close:p,volume:g,date:v}),u.push({open:m,high:y,low:b,close:x,volume:w,date:N}))}}return l[0].prevclose=n,u[0].prevclose=n,[l,u]},nc:function(t,e,n,o){if(t&&!(t.length<1)){o=o||{};var r=t[t.length-1];if(168==n&&S.gw(r.date,e.date)||720==n&&S.gm(r.date,e.date)){return r.day=String(e.today).split("-").join("/"),void (r.date=S.dd(e.date))}r=t[t.length-1];var i=r.close,a=e.price-i,s=a/i;t.push({open:isNaN(o.price)?i:o.price,high:isNaN(o.price)?e.high:o.price,low:isNaN(o.price)?e.low:o.price,close:isNaN(o.price)?e.price:o.price,volume:isNaN(o.volume)?e.totalVolume:o.volume,percent:s,day:String(e.today).split("-").join("/"),date:S.ddt(e.date),time:e.time,ampP:0,amplitude:0,change:a,kke_cs:0})}},pd:function(t,e){var n=t.length,o=t[0],r=o.prevclose;(isNaN(r)||0>=r)&&(r=o.open);for(var i=0;n>i;i++){if(o=t[i],e&&e.usePc&&(r=o.prevclose),o.amplitude=o.high-o.low,o.ampP=o.amplitude/r,o.change=o.close-r,o.percent=o.change/r,r=o.close,o.day){var a=o.day.split(" ");
o.day=a[0],o.time=a[1].slice(0,5),o.date=S.sd(o.day,o.time),o.day=o.day.split("-").join("/")}else{var s=o.date,l=P.zp(s.getMonth()+1),u=P.zp(s.getDate());o.day=[s.getFullYear(),l,u].join("/")}o.kke_cs=o.close>o.open?1:o.open>o.close?-1:0}},ms:function(t,e,n,o,r){return n>t&&(t+=24),Math.max(1,Math.ceil((60*(t-n)+e-o)/r))},spk:function(t,e,n,o,r){if(t==e){return !0}var i=t.split(":"),a=Number(i[0]),s=Number(i[1]);i=e.split(":");var l=Number(i[0]),u=Number(i[1]);if(a>l&&3>a-l||a==l&&s>=u){return !0}if(60!=o||r&&/^forex/.test(r)){i=n.split(":");var c=Number(i[0]),d=Number(i[1]),h=this.ms(a,s,c,d,o),f=this.ms(l,u,c,d,o);return h==f}return"10:30"!=t&&"11:30"!=t&&"14:00"!=t&&"15:00"!=t||u==s?!0:!1},yd:function(t){for(var e=t[t.length-1].date.getFullYear(),n=[],o=t.length;o--&&t[o].date.getFullYear()==e;){n[n.length]=t[o]}return n.reverse(),n[0].prevclose=t[o]?t[o].prevclose||t[o].close:n[0].prevclose||n[0].close,n},rd:function(t,e){var n=[],o=S.dd(e);o.setFullYear(o.getFullYear()-5);for(var r=t.length;r--&&!(t[r].date<o);){n[n.length]=t[r]}return n.reverse(),n[0].prevclose=t[r]?t[r].close:n[0].close,n},adbd:function(t,e,n,o){for(var r,i,a,s,l=n?S.stbdt:S.stbd,u=t.length,c=e.length;c--;){if(a=e[c].date,1>u){c=e.length-t.length;for(var d=[],h=t[0];c-->0;){if(i=w(h)||{},i.isFake=!0,i.kke_cs=0,o){for(r in i){i.hasOwnProperty(r)&&g(i[r])&&(i[r]=0)}}d.push(i)}t=d.concat(t);break}for(var f=u--;f--&&(s=t[f].date,!l(a,s));){if(a>s){if(i=w(t[f]),i.isFake=!0,i.date=a,i.kke_cs=0,o){for(r in i){i.hasOwnProperty(r)&&g(i[r])&&(i[r]=0)}}t.splice(++f,0,i),u++;break}t.splice(f,1),u--}}return u>0&&t.splice(0,u),t},ayd:function(t,e,n,o,r){for(var i,a,s,l,u=S.stbd,c=t.length,d=e.length;d--;){if(s=e[d],!(s>r)){if(o>s&&!S.stbd(s,o)){break}for(var h=c--;h--&&(l=t[h].date,!u(s,l));){if(s>l){a=w(t[h]);var f=a.close;for(i in a){a.hasOwnProperty(i)&&g(a[i])&&(a[i]=0)}a.open=a.high=a.low=a.close=f,a.date=s,t.splice(++h,0,a),c++;break}t.splice(h,1),c--}}}return c>0&&t.splice(0,c),t}},this.domGc=new function(){var t=u.$C("div");return t.style.display="none",function(e,n){if(e){if(e.hasChildNodes()){for(;e.childNodes.length>0;){e.removeChild(e.firstChild)}}if(n){return void (e.innerHTML="")}t.appendChild(e),t.innerHTML=""}}},this.getSUrl=function(t){return t},this.TipM=s,this.logoM=new function(){var t="data:image/png;base64,",e=u.$C("img"),n=!1,o=[],r=[],i=function(){u.xh5_EvtUtil.addHandler(e,"load",function(){for(n=!0;o.length;){var t=o.shift();s(t)}}),e.src=t},a=function(t){if(t.logo&&!u.xh5_BrowserUtil.noH5){var e=t.logo;t.color||(t.color="#ccc");var n=u.hex2dec(t.color,0/0,!0);(!n||n.length<3)&&(n=[200,200,200]);for(var o=e.getContext("2d"),r=o.getImageData(0,0,e.width,e.height),i=n[0],a=n[1],s=n[2],l=0,c=r.data.length;c>l;l+=4){0!=r.data[l+3]&&(r.data[l]=i,r.data[l+1]=a,r.data[l+2]=s)}o.putImageData(r,0,0)}},s=function(t){if(u.xh5_BrowserUtil.noH5){return null}if(!n){for(var i=o.length;i--;){if(o[i].id==t.id){return null}}return o.push(t),null}var s;s=u.$C("canvas",t.id),s.style.zIndex=0,r.push(s),s.style.position="absolute",s.style.top=t.top+"px",s.style.right=t.right+"px",s.width=e.width,s.height=e.height,s.style.width=t.LOGO_W+"px",s.style.height=t.LOGO_H+"px";var l=s.getContext("2d");if(t.isShare){var c=u.xh5_BrowserUtil.hdpr;if(2>c){var d=c/2;l.scale(d,d)}}return l.drawImage(e,0,0),a({logo:s,color:t.color}),f(t.cb)&&t.cb(s),s};this.getLogo=s,this.styleLogo=a,i()},this.grabM=new function(){var t=function(t){var e=t.dom,n=t.child;if(!e||!n){return null}h(e)&&(e=u.$DOM(e));var o=e.getElementsByTagName(n);if(!o||o.length<1){return null}var r=u.xh5_BrowserUtil.hdpr,i=e.offsetWidth,a=e.offsetHeight,s=u.$C("canvas"),l=s.getContext("2d");s.style.width=i+"px",s.style.height=a+"px",s.width=i*r,s.height=a*r,1!=r&&l.scale(r,r);var c=u.xh5_HtmlPosUtil.pageX(e),d=u.xh5_HtmlPosUtil.pageY(e),f=u.xh5_HtmlPosUtil.parentY(e);l.textBaseline="top";for(var p,g,v=0,m=o.length;m>v;v++){p=o[v],g=u.getCSS(p);var y=u.xh5_HtmlPosUtil.pageX(p)-c,b=u.xh5_HtmlPosUtil.pageY(p)-d,x=Number(g.paddingLeft.split("px")[0]),w=0.5*(Number(g.lineHeight.split("px")[0])-Number(g.fontSize.split("px")[0]));l.fillStyle=g.backgroundColor,l.fillRect(y,b,p.offsetWidth,p.offsetHeight),l.font=[g.fontSize,g.fontFamily].join(" "),l.fillStyle=g.color,l.fillText(p.innerHTML,y+x,b+w)}return{canvas:s,x:c,y:f}},e=function(t,e){},n=function(n){if(!u.xh5_BrowserUtil.noH5){var o=n.ctn;if(o){for(var r,i,a=o.getElementsByTagName("canvas"),s=n.w||o.offsetWidth,l=n.h||o.offsetHeight,c=u.xh5_BrowserUtil.hdpr,d=[],h=u.xh5_HtmlPosUtil.pageX(o),f=u.xh5_HtmlPosUtil.pageY(o),g=a.length;g--;){i=a[g],r=i.style.zIndex;var v,m=!1;for(v=n.ignoreZIdxArr.length;v--;){if(r==n.ignoreZIdxArr[v]){m=!0;break}}if(!m){for(v=n.ignoreIdArr.length;v--;){if(i.id==n.ignoreIdArr[v]){m=!0;break}}if(!m){var y={canvas:i,x:u.xh5_HtmlPosUtil.pageX(i)-h,y:u.xh5_HtmlPosUtil.pageY(i)-f};d.push(y)}}}if(!n.nologo){var b=u.logoM.getLogo({cb:null,id:"share_logo",isShare:!0,top:n.top,right:n.right,LOGO_W:n.LOGO_W,LOGO_H:n.LOGO_H,color:n.color});
b&&d.push({canvas:b,x:s-Number(b.style.right.split("px")[0])-n.LOGO_W,y:Number(b.style.top.split("px")[0])})}if(n.extra){!p(n.extra)&&(n.extra=[n.extra]);for(var x=0,w=n.extra.length;w>x;x++){var N=t(n.extra[x]);N&&(d=d.concat(N))}}var A=u.$C("canvas"),C=A.getContext("2d");A.style.width=s+"px",A.style.height=l+"px",A.width=s*c,A.height=l*c,C.fillStyle=n.bgColor,C.fillRect(0,0,s,l);for(var k=0,T=d.length;T>k;k++){var S=d[k];C.drawImage(S.canvas,S.x*c,S.y*c)}e(A.toDataURL("image/png").substring(22),n)}}};this.shareTo=n},this.bridge=new function(){function t(t,e){for(var n in t){t.hasOwnProperty(n)&&(t[n]=e+t[n])}}var e,n,o=!1,r="sinatkchart_SLBridge~",i={SAVE:"save",LOAD:"load",REMOVE:"remove",DATA:"data",READY:"ready"};t(i,r);var a=[],s={},l=[],c=function(t){var e=t,n=e.key,o=e.options,r=e.value;A.save(n,r,o)},d=function(t){o||n||l.push([t])},h=function(t){var e=t,n=e.key,o=e.options;return A.load(n,o)},f=function(t,e){return o?void 0:n?void (s[t.uid]=e):void a.push([t,e])},p=function(t,e,n){var o=h(t);e(o),n||f(t,e)},g=function(t,e){t&&(c(t),e||d(t))},v=new function(){var t=function(t){if(t&&t.type){var e=t.type;if(-1!=e.indexOf(r)){return e}}return void 0},e=function(){for(var t;a.length;){t=a.shift(),p(t[0],t[1])}for(;l.length;){t=l.shift(),g(t[0])}};this.onMsg=function(n){var o;try{o=JSON.parse(n.data)}catch(r){}var a=t(o);if(a){switch(a){case i.READY:e();break;case i.DATA:if(!u.isFunc(s[o.uid])){return}s[o.uid](o.result),s[o.uid]=null,delete s[o.uid]}}}};u.xh5_EvtUtil.addHandler(window,"message",v.onMsg),this.load=p,this.save=g,this.getStatus=function(){return n&&!o&&"1"==e.getAttribute("data-ready")}},this.colorPicker=function(){function t(t,e){var n=function(){},o=t.prototype;n.prototype=e.prototype,t.prototype=new n;for(var r in o){o.hasOwnProperty(r)&&(t.prototype[r]=o[r])}t.prototype.constructor=t}function e(t,n,o){if(!n){return t}t||(t={});for(var r in n){n.hasOwnProperty(r)&&("Object"===P(n[r])?(!t[r]&&(t[r]={}),e(t[r],n[r],o)):!o&&r in t||(t[r]=n[r]))}return t}function n(t){var e="undefined"==typeof getComputedStyle?t.currentStyle:getComputedStyle(t);return e?(t.clientWidth||m(e.width)||m(t.style.width))-(m(e.paddingLeft)||0)-(m(e.paddingRight)||0)|0:0}function o(t){var e="undefined"==typeof getComputedStyle?t.currentStyle:getComputedStyle(t);return e?(t.clientHeight||m(e.height)||m(t.style.height))-(m(e.paddingTop)||0)-(m(e.paddingBottom)||0)|0:0}function r(t){return t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0}}function i(t){var e=t.getContext("2d");e.clearRect(0,0,t.width,t.height)}function a(t,e){var r=document.createElement("canvas"),i=r.style,a=n(t),s=o(t),l=a*e.width,u=s*e.height;return r.width=l,r.height=u,i.position="absolute",i.width=l+"px",i.height=u+"px",i.left=a*e.left+"px",i.top=s*e.top+"px",t.appendChild(r),r}function s(t,e){var r=document.createElement("ul"),i=r.style,a=e.label,s=n(t),u=o(t);i.listStyle="none",i.padding=0,i.margin=0,i.font=e.font,i.position="absolute",i.left=s*e.left+"px",i.top=u*e.top+"px";for(var c=0,d=a.length;d>c;c++){l(r,c,e)}return t.appendChild(r),r}function l(t,e,n){var o=document.createElement("li"),r=document.createElement("label"),i=document.createElement("input"),a=r.style,s=o.style,l=i.style;return r.innerHTML=n.label[e],a.textAlign="right",a.display="inline-block",a.width=n.labelWidth+"px",a.color=n.color,"number"==n.type&&(i.type="number"),l.width=n.inputWidth+"px",s.marginBottom=n.gap+"px",C(i,"mousemove",function(t){k(t)}),o.appendChild(r),o.appendChild(i),t.appendChild(o),o}function c(t,e){var r=document.createElement("div"),i=r.style,a=n(t),s=o(t);return i.position="absolute",i.left=a*e.left+"px",i.top=s*e.top+"px",i.width=a*e.width+"px",i.height=s*e.height+"px",t.appendChild(r),r}function d(t,e){function n(n){n=D(e,n),t._onmousemove(n.NyanX,n.NyanY),t.onmousemove&&t.onmousemove(t)}function o(t){a=!0,n(t)}function r(t){a&&n(t),k(t),T(t)}function i(){a&&(a=!1)}var a=!1;"ontouchend" in window?(C(e,"touchstart",o),C(e,"touchmove",r),C(e,"touchend",i)):(C(e,"mousedown",o),C(e,"mousemove",r),C(e,"mouseup",i),C(e,"mouseout",i))}function h(t,e,n){return t=Math.round(t),e>t?e:t>n?n:t}function f(t,e,n){return e>t?e:t>n?n:t}function p(t){return t.length&&"%"===t.charAt(t.length-1)?h(parseFloat(t)/100*255,0,255):h(parseInt(t,10),0,255)}function g(t){return t.length&&"%"===t.charAt(t.length-1)?f(parseFloat(t)/100,0,1):f(parseFloat(t),0,1)}function v(t,e,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}function y(t){var e=(parseFloat(t[0])%360+360)%360/360,n=g(t[1]),o=g(t[2]),r=0.5>=o?o*(n+1):o+n-o*n,i=2*o-r;return[f(255*v(i,r,e+1/3),0,255),f(255*v(i,r,e),0,255),f(255*v(i,r,e-1/3),0,255)]}function b(t){if(t){var e,n,o=t[0]/255,r=t[1]/255,i=t[2]/255,a=Math.min(o,r,i),s=Math.max(o,r,i),l=s-a,u=(s+a)/2;if(0===l){e=0,n=0}else{n=0.5>u?l/(s+a):l/(2-s-a);var c=((s-o)/6+l/2)/l,d=((s-r)/6+l/2)/l,h=((s-i)/6+l/2)/l;o===s?e=h-d:r===s?e=1/3+c-h:i===s&&(e=2/3+d-c),0>e&&(e+=1),e>1&&(e-=1)}return[360*e,n,u]}}function x(t){if(t){t+="";
var e=t.replace(/ /g,"").toLowerCase();if("#"!==e.charAt(0)){var n=e.indexOf("("),o=e.indexOf(")");if(-1!==n&&o+1===e.length){var r=e.substr(0,n),i=e.substr(n+1,o-(n+1)).split(",");switch(r){case"rgb":if(3!==i.length){return}return[p(i[0]),p(i[1]),p(i[2])];case"hsl":if(3!==i.length){return}return y(i);default:return}}}else{if(4===e.length){var a=parseInt(e.substr(1),16);if(!(a>=0&&4095>=a)){return}return[(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4]}if(7===e.length){if(a=parseInt(e.substr(1),16),!(a>=0&&16777215>=a)){return}return[(16711680&a)>>16,(65280&a)>>8,255&a]}}}}function w(t){var e=[(+t[0]).toFixed(0),(+t[1]).toFixed(0),(+t[2]).toFixed(0)];return((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1)}function N(t){var e=[t[0].toFixed(0),(100*t[1]).toFixed(0)+"%",(100*t[2]).toFixed(0)+"%"];return"hsl("+e.join(",")+")"}function A(t,e){if(t){var n="Array"==P(t)?t:x(t);switch(e){case"rgb":return e+"("+n.join(",")+")";case"hex":return"#"+w(n);case"hsl":return N(b(n))}}}if("undefined"!=typeof getComputedStyle){var C=function(){return window.addEventListener?function(t,e,n){t.addEventListener(e,n)}:function(t,e,n){t.attachEvent("on"+e,n)}}(),k=function(){return window.addEventListener?function(t){t.stopPropagation()}:function(t){t.cancelBubble=!0}}(),T=function(){return window.addEventListener?function(t){t.preventDefault()}:function(t){t.returnValue=!1}}(),S=Object.prototype.toString,P=function(t){return null===t?"Null":void 0===t?"Undefined":S.call(t).slice(8,-1)},H=function(t,e){if(!t){return -1}if(t.indexOf){return t.indexOf(e)}for(var n=t.length;n--;){if(t[n]===e){return n}}},D=function(t,e){if(e=e||window.event,null!=e.NyanX){return e}var n=e.type,o=n&&H(n,"touch")>=0;if(o){var i="touchend"!=n?e.targetTouches[0]:e.changedTouches[0];if(i){var a=r(t);e.NyanX=i.clientX-a.left,e.NyanY=i.clientY-a.top}}else{var s=r(t);e.NyanX=e.clientX-s.left,e.NyanY=e.clientY-s.top,e.NyanDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3}return e},F={width:320,height:200,zIndex:10002,backgroundColor:"#444",wrapShadow:"3px 3px 4px rgba(0, 0, 0, 0.4)",color:"#66ccff",picker:{left:0.05,top:0.15,width:0.4,height:0.65,size:10,color:"#000",lineWidth:1},slider:{left:0.5,top:0.15,width:0.05,height:0.65},rgbBox:{label:["R:","G:","B:"],font:"12px Microsoft YaHei",color:"#FFFEFA",gap:8,type:"number",labelWidth:15,inputWidth:36,left:0.6,top:0.15},hslBox:{label:["H:","S:","L:"],font:"12px Microsoft YaHei",color:"#FFFEFA",gap:8,type:"number",labelWidth:15,inputWidth:36,left:0.78,top:0.15},hexBox:{label:["#"],font:"12px Microsoft YaHei",color:"#FFFEFA",labelWidth:15,inputWidth:60,left:0.03,top:0.85},colorBox:{left:0.63,top:0.6,width:0.32,height:0.2},okBtn:{text:"\u786e\u5b9a",backgroundColor:"#6C6C6C",color:"#FFFEFA",font:"12px Microsoft YaHei",left:0.65,top:0.87,width:0.12,height:0.1},cancelBtn:{text:"\u53d6\u6d88",backgroundColor:"#6C6C6C",color:"#FFFEFA",font:"12px Microsoft YaHei",left:0.83,top:0.87,width:0.12,height:0.1}},O=function(t,n){e(this,n),this.background=a(t,n),this.layer=a(t,n),this.H=0,this.S=0,d(this,this.layer),this.paintBG()};O.prototype={constructor:O,paintBG:function(){for(var t=this.background,e=t.getContext("2d"),n=t.width,o=t.height,r=e.createLinearGradient(0,0,n,0),i=0;1>i;i+=1/6){r.addColorStop(i,"hsl("+360*i+" , 100%, 50%)")}e.fillStyle=r,e.fillRect(0,0,n,o),r=e.createLinearGradient(0,0,0,o),r.addColorStop(0,"hsla(0, 0%, 50%, 0)"),r.addColorStop(1,"hsla(0, 0%, 50%, 1)"),e.fillStyle=r,e.fillRect(0,0,n,o)},_onmousemove:function(t,e){var r=this.layer,i=n(r),a=o(r);this.H=t/i*360,this.S=(a-e)/a},updatePoint:function(){var t=this.layer,e=t.getContext("2d"),r=this.size,i=n(t),a=o(t),s=this.H*i/360,l=a-this.S*a;e.clearRect(0,0,t.width,t.height),e.beginPath(),e.moveTo(s-r,l),e.lineTo(s+r,l),e.moveTo(s,l-r),e.lineTo(s,l+r),e.strokeStyle="black",e.lineWidth=2,e.stroke()},update:function(t){this.H=t[0],this.S=t[1],this.updatePoint()}};var M=function(t,n){e(this,n),this.background=a(t,n),this.layer=a(t,n),this.L=0.5,d(this,this.layer)};M.prototype={constructor:M,paintBG:function(t){var e=this.background,n=e.getContext("2d"),o=e.width,r=e.height,a=n.createLinearGradient(0,0,0,r);i(e),a.addColorStop(0,"#fff"),a.addColorStop(0.5,"hsl("+(+t[0]).toFixed(0)+", "+(100*t[1]).toFixed(0)+"%, 50%)"),a.addColorStop(1,"#000"),n.fillStyle=a,n.fillRect(0,0,o,r)},_onmousemove:function(t,e){var n=this.layer,r=o(n);this.L=(r-e)/r},updatePoint:function(t){for(var e=this.layer,n=e.getContext("2d"),r=o(e),i=r-this.L*r,a=y(t),s=a.length;s--;){a[s]=(255-a[s]).toFixed(0)}n.clearRect(0,0,e.width,e.height),n.beginPath(),n.moveTo(0,i+0.5),n.lineTo(e.width,i+0.5),n.strokeStyle=A(a,"hex"),n.lineWidth=3,n.stroke()},update:function(t){this.L=t[2],this.paintBG(t),this.updatePoint(t)}};var L=function(t,e){var n=this;this.box=s(t,e),C(this.box,"input",function(t){t.target.value=h(t.target.value,0,255),n.oninput&&n.oninput(t)})};L.prototype={constructor:L,getRGB:function(){var t=this.box.childNodes;return"rgb("+t[0].childNodes[1].value+", "+t[1].childNodes[1].value+", "+t[2].childNodes[1].value+")"
},getRGBArr:function(){var t=this.box.childNodes;return[t[0].childNodes[1].value,t[1].childNodes[1].value,t[2].childNodes[1].value]},update:function(t){for(var e=this.box.childNodes,n=y(t),o=0,r=n.length;r>o;o++){e[o].childNodes[1].value=(+n[o]).toFixed(0)}}};var R=function(t,e){var n=this;this.box=s(t,e);var o=this.box.childNodes;C(o[0].childNodes[1],"input",function(t){t.target.value=h(t.target.value,0,360),n.oninput&&n.oninput(t)}),C(o[1].childNodes[1],"input",function(t){t.target.value=h(t.target.value,0,100),n.oninput&&n.oninput(t)}),C(o[2].childNodes[1],"input",function(t){t.target.value=h(t.target.value,0,100),n.oninput&&n.oninput(t)})};R.prototype={constructor:R,getHSL:function(){var t=this.box.childNodes;return"hsl("+t[0].childNodes[1].value+", "+t[1].childNodes[1].value+"%, "+t[2].childNodes[1].value+"% )"},getHSLArr:function(){var t=this.box.childNodes;return[t[0].childNodes[1].value,t[1].childNodes[1].value/100,t[2].childNodes[1].value/100]},update:function(t){for(var e=this.box.childNodes,n=0,o=t.length;o>n;n++){e[n].childNodes[1].value=(n>0?100*t[n]:+t[n]).toFixed(0)}}};var U=function(t,e){var n=this;this.box=s(t,e);var o=this.box.childNodes;C(o[0].childNodes[1],"input",function(t){t.target.value=t.target.value.replace(/[^0-9A-Fa-f]/g,"").slice(0,6);var e=t.target.value.length;6==e&&n.oninput&&n.oninput(t)})};U.prototype={constructor:U,getHEX:function(){return"#"+this.box.childNodes[0].childNodes[1].value},update:function(t){var e=this.box.childNodes;e[0].childNodes[1].value=w(y(t))}};var B=function(t,e){this.btn=c(t,e);var n=this.btn.style;this.btn.innerHTML=e.text,n.font=e.font,n.lineHeight=o(t)*e.height+"px",n.textAlign="center",n.backgroundColor=e.backgroundColor,n.color=e.color,n.cursor="pointer"},E=function(t,e){this.box=c(t,e),this.box.style.backgroundColor="#000"};E.prototype={constructor:E,update:function(t){for(var e=y(t),n=e.length;n--;){e[n]=(+e[n]).toFixed(0)}this.box.style.backgroundColor="rgb("+e[0]+", "+e[1]+", "+e[2]+")"}};var I=function(t){t=t||{},this.param=e(t,F),this.inited=!1,u.xh5_EvtDispatcher.call(this)};return I.prototype={constructor:I,init:function(){if(!this.inited){var t=this.param,e=b(x(t.color));this._initDoms(t),this._initEvent(),this.update(e),document.body.appendChild(this.wrap),this.inited=!0}},_initDoms:function(t){var e=document.createElement("div"),n=e.style;n.position="absolute",n.width=t.width+"px",n.height=t.height+"px",n.zIndex=t.zIndex,n.backgroundColor=t.backgroundColor,n.boxShadow=t.wrapShadow,n.transition="opacity 0.2s ease-in-out 0s",n.opacity=0,n.visibility="hidden",n.userSelect="none",n.webkitUserSelect="none",n.msUserSelect="none",n.mosUserSelect="none",this.wrap=e,this.picker=new O(e,t.picker),this.slider=new M(e,t.slider),this.rgbBox=new L(e,t.rgbBox),this.hslBox=new R(e,t.hslBox),this.hexBox=new U(e,t.hexBox),this.colorBox=new E(e,t.colorBox),this.okBtn=new B(e,t.okBtn),this.cancelBtn=new B(e,t.cancelBtn)},_initEvent:function(){function t(t){x=!0,o=+y.left.replace(/[^0-9.]/g,""),r=+y.top.replace(/[^0-9.]/g,""),t.targetTouches?(i=t.targetTouches[0].clientX,a=t.targetTouches[0].clientY):(i=t.clientX,a=t.clientY)}function e(t){x&&(t.targetTouches?(s=t.targetTouches[0].clientX-i,l=t.targetTouches[0].clientY-a):(s=t.clientX-i,l=t.clientY-a),y.left=+o+ +s+"px",y.top=+r+ +l+"px",k(t)),T(t)}function n(){x=!1}var o,r,i,a,s,l,u=this,c=this.wrap,d=this.picker,h=this.slider,f=this.rgbBox,p=this.hslBox,g=this.hexBox,v=this.okBtn,m=this.cancelBtn,y=c.style,x=!1;"ontouchend" in window?(C(c,"touchstart",t),C(c,"touchmove",e),C(c,"touchend",n)):(C(c,"mousedown",t),C(c,"mousemove",e),C(c,"mouseup",n),C(c,"mouseout",n)),d.onmousemove=function(){u.update([d.H,d.S,h.L])},h.onmousemove=function(){u.update([d.H,d.S,h.L])},p.oninput=function(){u.update(p.getHSLArr())},f.oninput=function(){u.update(b(f.getRGBArr()))},g.oninput=function(){u.update(g.getHEX())},C(v.btn,"click",function(){u.hide(),u.re("ok",[{rgb:f.getRGB(),hsl:p.getHSL(),hex:A(p.getHSL(),"hex")},u.target]),u.onok&&u.onok({rgb:f.getRGB(),hsl:p.getHSL(),hex:A(p.getHSL(),"hex")},u.target)}),C(m.btn,"click",function(){u.hide()})},show:function(t,e,n,o){!this.inited&&this.init();var r=this.wrap,i=r.style;i.left=(t?t:0)+"px",i.top=(e?e:0)+"px",i.visibility="visible",i.opacity=1,o&&this.update(o),this.target=n},hide:function(){if(this.inited){var t=this.wrap,e=t.style;e.visibility="hidden",e.opacity=0}},update:function(t){var e="Array"==P(t)?t:b(x(t));this.picker.update(e),this.slider.update(e),this.rgbBox.update(e),this.hslBox.update(e),this.hexBox.update(e),this.colorBox.update(e)}},t(I,u.xh5_EvtDispatcher),new I}}(),this.HQ_DOMAIN=l()}});xh5_define("cfgs.settinger",[],function(){function t(t){this.uid=t,this.custom={show_underlay_vol:!0,show_ext_marks:!0,show_floater:!0,mousewheel_zoom:!0,keyboard:!0,history_t:"window",allow_move:!0,mouse_and_touch:!0,tchart_tap:!0,show_k_rangepercent:!0,k_0pct:"no",touch_prevent:!0,mini_threshold:{width:0/0,height:0/0},show_logo:!0,k_overlay:!1,stick:!0,smooth:!1,indicatorpanel_url:((typeof(__jsr)!="undefined")?__jsr:"")+"js/indicatorpanel.html",allow_indicator_edit:!0,storage_lv:2,indicator_reorder:!0,indicator_cvs_title:!1,indicator_reheight:!1,centerZoom:!0},this.PARAM={K_CL_NUM:260,updateRate:5,T_RATE:120,minCandleNum:25,maxCandleNum:0/0,defaultCandleNum:80,zoomUnit:90,zoomLimit:10,zoomArea:0.15,I_Z_INDEX:50,G_Z_INDEX:30,_hd:1,setHd:function(t){"number"==typeof t&&(this._hd=t)
},getHd:function(){return this._hd},isFlash:!1,LOGO_ID:"KKE_sina_finance_logo"},this.DIMENSION={extend_draw:!1,LOGO_W:80,LOGO_H:20,posY:0,posX:55,RIGHT_W:55,K_RIGHT_W:9,_w:void 0,_h:void 0,w_t:void 0,w_k:void 0,h_t:void 0,h_k:void 0,P_HV:0.28,H_MA4K:13,H_TIME_PART:13,K_F_T:47,T_F_T:13,H_T_T:14,W_T_L:43,H_T_G:60,H_BLK:50,H_T_B:7,I_V_O:0,getOneWholeTH:function(){return this.H_T_T+this.H_T_G},H_RS:30,setStageW:function(t){this._w=t,this.w_k=t-this.posX-this.K_RIGHT_W,this.w_t=t-this.posX-this.RIGHT_W},setStageH:function(t,e){this._h=t,this.h_k=this.h_t=t-e-this.H_TIME_PART-this.H_MA4K},getStageW:function(){return this._w},getStageH:function(){return this._h}},this.STYLE={FONT_SIZE:12,FONT_FAMILY:"helvetica,arial,sans-serif"},this.s=(__style||{}),this.COLOR={BG:((typeof(this.s.backgroundColor)=="undefined")?"#fff":this.s.backgroundColor),T_P:"#007cc8",T_AVG:((typeof(this.s.avg)=="undefined")?"#000":this.s.avg),T_PREV:"#9b9b9b",K_RISE:"#f11200",K_FALL:"#00a800",K_N:"#000000",K_CL:"#007cc8",K_MS_RISE:"#f11200",K_MS_FALL:"#00a800",K_MS_N:"#000000",T_RISE:"#f11200",T_FALL:"#00a800",T_N:((typeof(this.s.color)=="undefined")?"#000":this.s.color),F_RISE:"#f11200",F_FALL:"#00a800",F_N:"#000000",F_BG:"rgba(255,255,255,.9)",F_BR:"#000",F_T:"#000",K_EXT:"#080208",T_T:"#777",K_P:((typeof(this.s.ttext)=="undefined")?"#555":this.s.ttext),V_SD:"#dddddd",M_ARR:["#fff","#BCD4F9"],M_ARR_A:[0.5,0],TIME_S:((typeof(this.s.time)=="undefined")?"#000":this.s.time),TIME_L:((typeof(this.s.grid)=="undefined")?"#eee":this.s.grid),GRID:((typeof(this.s.grid)=="undefined")?"#eee":this.s.grid),IVH_LINE:"#494949",P_TC:"#fff",P_BG:"#494949",T_TC:"#fff",T_BG:"#494949",REMARK_T:"#fff",REMARK_BG:"#494949",K_PCT:"#ccc",BTN_ARR:["#2b9dfc","#fff"],TIP_ARR:["#000","#fff",null,!1,null],LOGO:"#ccc"},this.datas={s:"sh000001",mode:"",tDataLen:241,t:"",isT:!1,scaleType:"price",candle:"solid"}}var e={URLHASH:{TS:1,T1:1,T5:5,FAKE_T5:2,NTS:"ts",NT5:"t5",KD:24,KW:168,KM:720,KCL:365,KDF:23,KDB:25,KWF:167,KWB:169,KMF:719,KMB:721,KCLF:364,KCLB:366,NKD:"kd",NKW:"kw",NKM:"km",NKCL:"kcl",NKDF:"kdf",NKDB:"kdb",NKWF:"kwf",NKWB:"kwb",NKMF:"kmf",NKMB:"kmb",NKCLF:"kclf",NKCLB:"kclb",K0:9,K1:1,K5:5,K10:10,K15:15,K30:30,K60:60,K120:120,K240:240,NK1:"k1",NK5:"k5",NK10:"k10",NK15:"k15",NK30:"k30",NK60:"k60",NK120:"k120",NK240:"k240",KMS:1000,NKMS:"kms",KYTD:983,NYTD:"kytd",vn:function(t){for(var e in this){if(this.hasOwnProperty(e)&&"number"==typeof this[e]&&t==this[e]){return this[e]}}return void 0},vi:function(t){switch(t){case this.NTS:return this.TS;case this.NT5:return this.FAKE_T5;default:return this[t.toUpperCase()]}},gt:function(t){var e;switch(t){case this.KMS:e={type:"msk"};break;case this.K0:case this.K1:case this.K5:case this.K10:case this.K15:case this.K30:case this.K60:case this.K120:case this.K240:e={type:"mink"};break;case this.KDF:case this.KWF:case this.KMF:case this.KCLF:e={type:"rek",dir:"q"};break;case this.KDB:case this.KWB:case this.KMB:case this.KCLB:e={type:"rek",dir:"h"};break;default:e={type:"k"}}switch(t){case this.KD:case this.KDF:case this.KDB:e.baseid=this.KD;break;case this.KW:case this.KWF:case this.KWB:e.baseid=this.KW;break;case this.KM:case this.KMF:case this.KMB:e.baseid=this.KM;break;case this.KCL:case this.KCLF:case this.KCLB:e.baseid=this.KCL;break;default:e.baseid=t}return e}},e:{K_DATA_LOADED:"kDataLoaded",T_DATA_LOADED:"tDataLoaded",I_EVT:"iEvent"},nohtml5info:"\u68c0\u6d4b\u5230\u60a8\u7684\u6d4f\u89c8\u5668\u8fc7\u65e7\u4e14\u4e0d\u652f\u6301HTML 5\uff0c\u5f53\u524d\u4ee5\u517c\u5bb9\u6a21\u5f0f\u8fd0\u884c\u3002<br/>\u4e3a\u83b7\u5f97\u66f4\u597d\u7684\u4f53\u9a8c\u53ca\u5b8c\u5584\u7684\u529f\u80fd\uff0c\u5efa\u8bae\u4f7f\u7528<a style='color:#fff;text-decoration:underline;' href='http://down.tech.sina.com.cn/content/40975.html' target='_blank'>\u8c37\u6b4cChrome</a>\u6d4f\u89c8\u5668\uff0c\u6216\u5347\u7ea7\u5230\u60a8\u6d4f\u89c8\u5668\u7684<a style='color:#fff;text-decoration:underline;' href='http://down.tech.sina.com.cn/content/58979.html' target='_blank'>\u6700\u65b0\u7248\u672c</a>\u3002",historyt08:"\u5f53\u524d\u63d0\u4f9bA\u80a12008\u5e74\u4ee5\u6765\u7684\u5386\u53f2\u5206\u65f6\u8d70\u52bf\u67e5\u8be2",nohistoryt:"\u65e0\u6b64\u8bc1\u5238\u6b64\u65f6\u6bb5\u5386\u53f2\u5206\u65f6\u6570\u636e",norecord:"\u8bc1\u5238\u4ee3\u7801\u65e0\u8bb0\u5f55",notlisted:"\u672a\u4e0a\u5e02",delisted:"\u9000\u5e02",nodata:"\u672a\u52a0\u8f7d\u5230\u6709\u6548\u6570\u636e",noredata:"\u90e8\u5206\u8bc1\u5238\u65e0\u590d\u6743\u6570\u636e"};return new function(){this.VER="2.0.30";var n=[];this.getSetting=function(e){for(var i,o=n.length;o--;){if(i=n[o],e==i.uid){return i}}return i=new t(e),n.push(i),i},this.globalCfg=e}});xh5_define("datas.hq",["utils.util","utils.utility"],function(t,t1){var e=t.load,i=t.fBind,n=t.market,r=t.cookieUtil,a=t.dateUtil,uz=t.uz,o=t.tUtil,jde=((t1&&t1.jde)?t1.jde:function(a){}),s=0==location.protocol.indexOf("https:"),l=t.HQ_DOMAIN,u=new function(){var t,i="sinaH5EtagStatus",n={domain:"",path:"/",expires:3600},a="n",o="y",u=0,c=__quoteapi+"?token="+__token+"&list=sys_hqEtagMode",h=function(){e(c,function(){var e=window.hq_str_sys_hqEtagMode;
0==u?u=e:(u==e?(t=!1,r.set(i,a,n)):(t=!0,r.set(i,o,n)),u=0)})},d=function(){t=!0};d(),setInterval(d,2000),this.isETag=function(){return t}},c=function(){function r(e,i,n){var r={},a=v[e];a||(a={symbol:e},v[e]=a);var o=_.trHandler(n,a);o&&(a.trstr=n),r[e]=a;var s={msg:"",dataObj:r};return t.isFunc(i)&&i(s),s}function c(t){return/^nf_(IF|IC|IH|TF|TS)\w+$/.test(t)?"CFF":/^nf_T(\d{4}|0)$/.test(t)?"CFF":"NF"}function jdc(a,m){return jde(a)}function h(e,i,r,a){if(a&&--a.count>0){return null}for(var o,s,l,u,h,d,f=e.split(","),p=[],m={},v=0,b=f.length;b>v;v++){if(o=f[v],l=g[o],l||(l={symbol:o},g[o]=l),s=n(o),r){u=r}else{switch(u=window["hq_str_"+o],s){case"HK":h=window["hq_str_"+o.replace("rt_","")+"_i"];break;default:h=window["hq_str_"+o+"_i"]}if("US"==s){var N=window.hq_str_gb_$ixic||window.hq_str_gb_ixic||window.hq_str_gb_$dji||window.hq_str_gb_dji}}u=jdc(u);d=u&&u.length>0?u.split(","):void 0;var y;switch(s){case"CN":y=_;break;case"CNI":y=_;break;case"US":y=S;break;case"HK":y=A;break;case"OTC":y=M;break;case"HF":y=O;break;case"NF":y="CFF"==c(o)?T:C;break;case"global_index":y=D;break;case"fund":y=k;break;case"op_m":case"option_cn":y=P;break;case"forex":case"forex_yt":y=x;break;case"CFF":y=T;break;case"BTC":y=w;break;default:y=void 0}var R=!0;y&&(R=y.update(d,l,h,N)),R,p.push(l),((__rcallback!=undefined&&l.symbol!="sys_time")?__rcallback(l):void (0)),m[o]=l}var I={msg:"",data:p,dataObj:m};return t.isFunc(i)&&i(I),I}function d(e){var i=40,n=e.split(","),r=[];for(n=t.uae(n);n.length>i;){r.push(n.splice(0,i))}return r.push(n.splice(0,n.length)),r}this.VER="2.6.17";var f,p={"00":"","01":"\u505c\u724c\u4e00\u5c0f\u65f6","02":"\u505c\u724c\u4e00\u5929","03":"\u8fde\u7eed\u505c\u724c","04":"\u76d8\u4e2d\u505c\u724c","05":"\u505c\u724c\u534a\u5929","06":"\u505c\u724c\u534a\u5c0f\u65f6","07":"\u6682\u505c","08":"\u53ef\u6062\u590d\u4ea4\u6613\u7194\u65ad","09":"\u4e0d\u53ef\u6062\u590d\u4ea4\u6613\u7194\u65ad"},m=(new Date).getTime(),g={},v={},b=new function(){var t=l+".sinajs.cn",i=__quoteapi+"?token="+__token+"&_=$rn&list=$symbol",n=__quoteapi+"?token="+__token+"&_="+m+"&list=$symbol",r=function(t){var e,r="";return e=t.cancelEtag?r+i.replace("$rn",String(Math.random())):r+(u.isETag()?n:i.replace("$rn",String(Math.random())))};return function(t,i,n){n=n||{},e(r(n).replace("$symbol",t),i)}},N=function(t){var e=t.timeStr||"",i=t.dateStr||"",n=t.tArr||void 0,r=t.hqObj||{},s=t.dateDiv||"-",l=e.split(":"),u=Number(l[0])||0,c=Number(l[1])||0,h=Number(l[2])||0,d=[o.s0(u),o.s0(c)].join(":"),f=0/0;if(n){if(n.indexOf){f=n.indexOf(d)}else{for(var p=n.length;p--;){if(n[p]==d){f=p;break}}}}var m={time:d,isUpdateTime:isNaN(f)?!0:Boolean(f>=0),index:f},g=i.split(s),v=~~Number(g[0]),b=~~(Number(g[1])-1),N=~~Number(g[2]),y={isErrData:!1,isDateChange:!1,date:r.date,today:[v,b+1,N].join("-")};if(r.date){var w=new Date(v,b,N,u,c,h),x=a.stbd(r.date,w);x?w>=r.date?y.date.setHours(u,c,h):y.isErrData=!0:(y.isDateChange=Boolean(w>r.date),y.isDateChange?y.date=w:y.isErrData=!0)}else{i?y.date=new Date(v,b,N,u,c,h):y.isErrData=!0}return{datePart:y,timePart:m}},y={swap:function(t){var e,i=t.split(","),n="";i[8]="TP"==i[8]?"03":"00",e=[0,4,3,7,5,6,26,46,10,11,36,26,37,27,38,28,39,29,40,30,56,46,57,47,58,48,59,49,60,50,2,1,8];for(var r=0;r<e.length;r++){n+=i[e[r]]+","}return n=n.slice(0,n.length-1)},kak:function(t,e){var i;switch(e){case"CN_2":i=this.swap(t);break;default:i=t}return i}},w=new function(){var t;this.update=function(e,i){if(!e){return !1}t||(t=o.gtr([["00:00","23:59"]]));var n=t,r="00:00",a=e[11],s=e[0],l=N({dateStr:a,timeStr:s,hqObj:i,tArr:n,start:r});if(l.datePart.isErrData){return !1}i.date=l.datePart.date,i.today=l.datePart.today,i.time=l.timePart.time,i.index=l.timePart.index,i.isUpdateTime=l.timePart.isUpdateTime,i.name=String(e[9]);var u=Number(e[3])||0;return i.prevclose=u,i.open=Number(e[5])||u,i.high=Number(e[6])||u,i.low=Number(e[7])||u,i.price=Number(e[8])||u,i.totalVolume=0,!0}},x=new function(){var i;this.update=function(t,e){if(!t||t.length<37){return !1}var tt=JSON.parse(t[33].replace(/_/g,","));window["time"+t[0]]=tt;window["dw"+t[0]]=t[34];window["dl"+t[0]]=t[35];window["cd"+t[0]]=JSON.parse(t[36].replace(/_/g,","));i||(i=o.gtr(tt));var ti=t[30];var ts=(t.length>=38?t[37].replace(/\|/g,","):"");if(ti.length>5){ti=ti.substr(0,5)}var tidx=i.indexOf(ti);var temp=parseInt(("1"+ti.replace(":","")));while(tidx<0&&(temp-1)>=10000){temp=(temp-1);ti=temp.toString().substr(1,2)+":"+temp.toString().substr(3,2);tidx=i.indexOf(ti)}if(tidx>=0){t[30]=ti+":00"}var r=i,a=i[0],s=29,l=t[s],u=t[30],c=N({dateStr:l,timeStr:u,tArr:r,start:a,hqObj:e});if(c.datePart.isErrData){return !1}e.date=c.datePart.date,e.today=c.datePart.today,e.time=c.timePart.time,e.index=c.timePart.index,e.isUpdateTime=c.timePart.isUpdateTime,e.name=decodeURIComponent(String(t[32]));var h=Number(t[5])||0;return e.prevclose=h,e.open=Number(t[1])||h,e.price=Number(t[4])||h,e.high=Number(t[2])||h,e.low=Number(t[3])||h,e.buy=Number(t[9]),e.buy2=Number(t[11]),e.buy3=Number(t[13]),e.buy4=Number(t[15]),e.buy5=Number(t[17]),e.sell=Number(t[19]),e.sell2=Number(t[21]),e.sell3=Number(t[23]),e.sell4=Number(t[25]),e.sell5=Number(t[27]),e.buyAmount=Number(t[10]),e.buyAmount2=Number(t[12]),e.buyAmount3=Number(t[14]),e.buyAmount4=Number(t[16]),e.buyAmount5=Number(t[18]),e.sellAmount=Number(t[20]),e.sellAmount2=Number(t[22]),e.sellAmount3=Number(t[24]),e.sellAmount4=Number(t[26]),e.sellAmount5=Number(t[28]),e.holdingAmount=Number(t[7]),e.volume=Number(t[6]),e.jsprice=Number(t[8]),e.market=t[31],e.fsymbol=t[0],e.totalVolume=Number(t[6]),e.totalAmount=0,e.ts=ts,!0
}},_=new function(){var e,i,n=function(i,n){if(!i){return !1}e||(e=o.gta());var r=100;/[gz]/.test(n.type)?r=10:t.isRepos(n.symbol)?r=10:(/^(sh000|sh580)\d+/.test(n.symbol)||/^(hy|gn|dy)\d+/.test(n.symbol))&&(r=1);var a=i[30],s=i[31],l=N({dateStr:a,timeStr:s,hqObj:n,tArr:e,start:"09:30"});if(l.datePart.isErrData){return !1}if(n.date=l.datePart.date,n.isDateChange=l.datePart.isDateChange,n.today=l.datePart.today,n.time=l.timePart.time,n.index=l.timePart.index,n.isUpdateTime=l.timePart.isUpdateTime,!l.timePart.isUpdateTime){var u=n.time.split(":"),c=Number(u[0]),h=Number(u[1]);switch(c){case 11:36>h&&(n.isUpdateTime=!0,n.index=119);break;case 15:10>h&&(n.isUpdateTime=!0,n.index=240)}}n.name=String(i[0]),n.isNewListed=Boolean(0==n.name.indexOf("N"));var d=Number(i[2])||0;n.prevclose=d,n.preopen=Number(i[1])||Number(i[6])||Number(i[7])||d,n.open=Number(i[1])||d,n.price=Number(i[3])||d,n.high=Number(i[4])||d,n.low=Number(i[5])||d,n.buy=Number(i[6]),n.sell=Number(i[7]);var f=Number(i[8])||0;f/=r,n.totalVolume=f,n.totalAmount=Number(i[9])||0;var m=i[32];return n.state=m,n.isStopDay="02"==m||"03"==m,n.statusStr=p[m]||"",!0},r=function(t,e){var i=t.split(",");!i||i.length<16||(e.type=String(i[0]).toLowerCase(),e.lastfive=Number(i[6]),e.fc=Number(i[8]),e.issueprice=Number(i[14]),e.status=Number(i[15]))},s=function(e,n){i||(i=o.gtr([["9:15","11:30"],["13:00","15:01"]]));var r=g[n.symbol]||{},s=r.date;t.isDate(s)||(s=new Date);var l=e.split("|"),u=a.ds(s),c=l[1],h=N({dateStr:u,timeStr:c,hqObj:n,tArr:i,start:"09:15"});return h.datePart.isErrData?!1:h.datePart.date.getHours()-s.getHours()>2?!1:(n.date=h.datePart.date,n.isDateChange=h.datePart.isDateChange,n.today=h.datePart.today,n.time=h.timePart.time,n.index=h.timePart.index,n.isUpdateTime=h.timePart.isUpdateTime,n.name=r.name||"",n.isNewListed=Boolean(0==n.name.indexOf("N")),n.price=Number(l[2]),n.trvolume=0.01*(Number(l[3])||0),n.tramount=Number(l[4])||0,n.trbs=Number(l[7])||0,!0)};this.trHandler=function(t,e){return s(t,e)},this.update=function(t,e,i){var a=!0;return i&&r(i,e),t&&(a=n(t,e)),a}},T=new function(){var t;this.update=function(e,i){if(!e){return !1}t||(t=o.gata(n(i.symbol),window["kke_"+i.symbol]&&window["kke_"+i.symbol].time||[["09:30","11:29"],["13:00","02:59"]]));var r=e[36],a=e[37],s=N({dateStr:r,timeStr:a,hqObj:i,tArr:t,start:t[0]});if(s.datePart.isErrData){return !1}i.name=e[49]||i.symbol.replace("CFF_RE_",""),i.date=s.datePart.date,i.isDateChange=s.datePart.isDateChange,i.today=s.datePart.today,i.time=s.timePart.time,i.index=s.timePart.index,i.isUpdateTime=s.timePart.isUpdateTime;var l=Number(e[14])||Number(e[13])||0;return i.settlement=i.prevclose=l,i.open=Number(e[0])||l,i.price=Number(e[3])||l,i.high=Number(e[1])||l,i.low=Number(e[2])||l,i.preopen=i.open,i.totalVolume=Number(e[4])||0,i.totalAmount=Number(e[5])||0,i.holdingAmount=Number(e[6])||0,i.preHoldingAmount=Number(e[15])||0,i.iscff=1,i.withNight=!1,!0}},S=new function(){var e,i=function(e){if(!e||e.length<9){return null}for(var i,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r=e.split(" "),a=new Date,o=a.getFullYear(),s=0,l=n.length;l>s;s++){if(String(r[0]).toUpperCase()==String(n[s]).toUpperCase()){i=s;break}}var u=parseInt(Number(r[1])),c=String(r[2]),h=c.toUpperCase().indexOf("PM")>0,d=c.split(":"),f=parseInt(Number(d[0]));h&&12!=f&&(f+=12);var p=d[1],m=p.slice(0,-2),g=[t.strUtil.zp(f),t.strUtil.zp(m),"00"].join(":"),v=new Date(o,i,u);if(+v>+a){if(!(0==a.getMonth()&&a.getDate()<7)){return null}o--,v=new Date(o,i,u)}var b=[v.getFullYear(),t.strUtil.zp(v.getMonth()+1),t.strUtil.zp(v.getDate())].join("-");return[g,b]},n=function(t,e){if(t&&e){var i=t.split(",");!i||i.length<3||(e.exchange=i[0],e.industry=i[1],e.issueprice=i[2])}},r=function(t,n,r){function s(t){return 0===parseInt(t[2])&&0===parseInt(t[4])&&0===parseInt(t[5])&&0===parseInt(t[6])&&0===parseInt(t[7])&&0===parseInt(t[10])}if(!t||t.length<28){return !1}e||(e=o.gtus());var l,u=!1;r?(l=r.split(","),u=s(l)):u=s(t);var c;if(n.prevclose=Number(t[26])||0,u){n.high=n.prevclose,n.open=n.prevclose,n.low=n.prevclose;var h=new Date((window.hq_str_sys_time?new Date(1000*window.hq_str_sys_time):new Date)-43200000);c=["09:10",h.getFullYear()+"-"+(h.getMonth()+1)+"-"+h.getDate()]}else{n.open=Number(t[5])||n.prevclose,n.high=Number(t[6])||n.prevclose,n.low=Number(t[7])||n.prevclose,c=i(String(l?l[25]:t[25]))}if(n.name=t[0],n.price=Number(t[1])||n.open,n.preopen=n.open,n.totalVolume=Number(t[10])||0,n.prevclose<=0&&(n.prevclose=n.price),n.isUnlisted=0==n.price&&0==Number(t[8])&&0==Number(t[9]),c){var d=N({dateStr:c[1],timeStr:c[0],hqObj:n,tArr:e});n.date=d.datePart.date,n.isDateChange=d.datePart.isDateChange,n.today=d.datePart.today,n.time=d.timePart.time,n.index=d.timePart.index,n.isUpdateTime=d.timePart.isUpdateTime,a=!0}return !0},a=!1;this.update=function(t,e,i,a){var o;return i&&n(i,e),t&&(o=r(t,e,a)),o}},k=new function(){var t;this.update=function(e,i){if(!e){return !1}t||(t=o.gthk());var n=e[7],r=e[1],a=N({dateStr:n,dateDiv:"-",timeStr:r,hqObj:i,tArr:t,start:"09:30"});
return i.date=a.datePart.date,i.isDateChange=a.datePart.isDateChange,i.today=a.datePart.today,i.time=a.timePart.time,i.index=a.timePart.index,i.isUpdateTime=a.timePart.isUpdateTime,i.name=String(e[0]),i.volume=0,i.price=Number(e[2]),i.prevprice=i.prevclose=Number(e[3]),!0}},C=new function(){this.update=function(t,e){if(!t){return !1}var i=window["kke_"+e.symbol]&&window["kke_"+e.symbol].time||[["09:30","11:29"],["13:00","02:59"]],r=o.gata(n(e.symbol),i),a=t[1],s=t[17],l=a.slice(0,2)+":"+a.slice(2,4),u=N({dateStr:s,dateDiv:"-",timeStr:l,hqObj:e,tArr:r,start:r[0]});e.date=u.datePart.date,e.isDateChange=u.datePart.isDateChange,e.today=u.datePart.today,e.time=u.timePart.time,e.index=u.timePart.index,e.isUpdateTime=u.timePart.isUpdateTime,r[0]>"15:00"&&("00:00"==i[1][0]?l>i[1][1]&&"09:00">l&&(e.index=r.indexOf(i[1][1])):l>i[0][1]&&"09:00">l&&(e.index=r.indexOf(i[0][1]))),e.name=String(t[0]);var c=Number(t[10])||0;return e.prevclose=c,e.open=Number(t[2])||c,e.preopen=e.open||e.price,e.high=Number(t[3])||c,e.low=Number(t[4])||c,e.close=Number(t[5])||c,e.buy=Number(t[6]),e.sell=Number(t[7]),e.price=Number(t[8])||c,e.activeprevclose=Number(t[9]),e.buyAmount=Number(t[11]),e.sellAmount=Number(t[12]),e.holdingAmount=Number(t[13]),e.totalVolume=Number(t[14])||0,e.exchange=t[15],e.futuresType=t[16],e.isHot=Number(t[18]),e.day5Highest=Number(t[19]),e.day5Lowest=Number(t[20]),e.day10Highest=Number(t[21]),e.day10Lowest=Number(t[22]),e.day20Highest=Number(t[23]),e.day20Lowest=Number(t[24]),e.day55Highest=Number(t[25]),e.day55Lowest=Number(t[26]),e.weighted=Number(t[27]),e.withNight=r[0]>"15:00",!0}},A=new function(){var t,e=function(e,i){if(!e){return !1}t||(t=o.gthk());var n=e[17],r=e[18],a=e[24],s=N({dateStr:n,dateDiv:"/",timeStr:r,hqObj:i,tArr:t,start:"09:30"});i.date=s.datePart.date||new Date,i.isDateChange=s.datePart.isDateChange,i.today=s.datePart.today;var l=!1;(!i.time||s.timePart.time>"09:29"&&i.time<s.timePart.time)&&(l=!0),i.time=s.timePart.time,i.index=s.timePart.index,i.isUpdateTime=s.timePart.isUpdateTime,l&&(i.isUpdateTime=!0),i.name=i.cnName||String(e[1]);var u=Number(e[3])||0;return i.prevclose=u,i.open="Y"==a?Number(e[2])||u:u,i.preopen=Number(e[2])||Number(e[9])||Number(e[10])||u,i.price=Number(e[6])||u,i.high=Number(e[4])||u,i.low=Number(e[5])||u,i.totalVolume=Number(e[12])||1000*Number(e[11])||0,i.totalAmount=Number(e[11])||0,!0},i=function(t,e){var i=t.split(",");!i||i.length<15||(e.type=String(i[0]).toLowerCase(),e.lastfive=0,e.status=Number(i[14]),e.issueprice=Number(i[16]),e.cnName=i[19])};this.update=function(t,n,r){var a=!0;return r&&i(r,n),t&&(a=e(t,n)),a}},D=new function(){this.update=function(t,e){if(!t){return !1}var i=o.gata(n(e.symbol),window["kke_global_index_"+e.symbol]&&window["kke_global_index_"+e.symbol].time||[["06:00","23:59"],["00:00","05:00"]]),r=i,a=i[0],s=6,l=t[s],u=t[7],c=N({dateStr:l,timeStr:u,tArr:r,start:a,hqObj:e});if(c.datePart.isErrData){return !1}e.date=c.datePart.date,e.today=c.datePart.today,e.time=c.timePart.time,e.index=c.timePart.index,e.isUpdateTime=c.timePart.isUpdateTime,e.name=String(t[0]);var h=Number(t[9])||0;return e.prevclose=h,e.open=Number(t[8])||h,e.price=Number(t[1])||h,e.high=Number(t[10])||h,e.low=Number(t[11])||h,e.buy=Number(t[9]),e.sell=Number(t[9]),e.totalVolume=Number(t[12])||0,e.holdingAmount=0,!0}},O=new function(){this.update=function(t,e){if(!t){return !1}var i=o.gata(n(e.symbol),window["kke_"+e.symbol]&&window["kke_"+e.symbol].time||[["06:00","23:59"],["00:00","05:00"]]),r=i,a=i[0],s=12,l=t[s],u=t[6],c=N({dateStr:l,timeStr:u,tArr:r,start:a,hqObj:e});if(c.datePart.isErrData){return !1}e.date=c.datePart.date,e.today=c.datePart.today,e.time=c.timePart.time,e.index=c.timePart.index,e.isUpdateTime=c.timePart.isUpdateTime,e.name=String(t[13]);var h=Number(t[7])||0;return e.prevclose=h,e.open=Number(t[8])||h,e.price=Number(t[0])||h,e.high=Number(t[4])||h,e.low=Number(t[5])||h,e.buy=Number(t[2]),e.sell=Number(t[3]),e.buyAmount=Number(t[10]),e.sellAmount=Number(t[11]),e.holdingAmount=Number(t[9]),!0}},P=new function(){var t;this.update=function(e,i){if(!e){return !1}t||(t=o.gta());var n=e[32],r=n.split(" "),a=r[0],s=r[1],l=N({dateStr:a,timeStr:s,hqObj:i,tArr:t,start:"09:30"});if(l.datePart.isErrData){return !1}i.date=l.datePart.date,i.isDateChange=l.datePart.isDateChange,i.today=l.datePart.today,i.time=l.timePart.time,i.index=l.timePart.index,i.isUpdateTime=l.timePart.isUpdateTime,i.name=String(e[37]),i.isNewListed=Boolean(0==i.name.indexOf("N"));var u=Number(e[8])||0;return i.prevclose=u,i.preopen=Number(e[9])||u,i.open=Number(e[9])||u,i.price=Number(e[2])||u,i.high=Number(e[39])||u,i.low=Number(e[40])||u,i.position=Number(e[5])||0,i.totalVolume=Number(e[41])||0,i.totalAmount=Number(e[42])||0,!0}},M=new function(){var t;this.update=function(e,i){if(!e){return !1}t||(t=o.gta());var n=e[30],r=e[31],a=N({dateStr:n,timeStr:r,hqObj:i,tArr:t,start:"09:30"});if(a.datePart.isErrData){return !1}if(i.date=a.datePart.date,i.isDateChange=a.datePart.isDateChange,i.today=a.datePart.today,i.time=a.timePart.time,i.index=a.timePart.index,i.isUpdateTime=a.timePart.isUpdateTime,!a.timePart.isUpdateTime){var s=i.time.split(":"),l=Number(s[0]),u=Number(s[1]);
switch(l){case 11:59>u&&(i.isUpdateTime=!0);break;case 15:31>u&&(i.isUpdateTime=!0)}}i.name=String(e[0]),i.isNewListed=Boolean(0==i.name.indexOf("N"));var c=Number(e[2])||0;i.prevclose=c,i.preopen=Number(e[1])||Number(e[6])||Number(e[7])||c,i.open=Number(e[1])||c,i.price=Number(e[3])||c,i.high=Number(e[4])||c,i.low=Number(e[5])||c,i.buy=Number(e[6]),i.sell=Number(e[7]),i.totalVolume=Number(e[8])/1000||0,i.totalAmount=Number(e[9])||0;var h=e[32];return i.state=h,i.isStopDay="02"==h||"03"==h,i.statusStr=p[h]||"",!0}},R=[],I="",F="",L=function(t){for(var e=R.length;e--;){R[e](t),R[e]=null,R.length--}};this.get=function(t,e){var r,a=t.symbol,o=t.withI,s=a,l=0;if(o){for(var u,c=a.split(","),p=c.length;p>l;l++){u=c[l]}}var g,v;if(t.delay){I+=a+",",F+=s+",",R.push(e),clearTimeout(f),f=setTimeout(function(){for(F=F.substring(0,F.length-1),I=I.substring(0,I.length-1),r=d(F),v=r.length,g={count:v},l=0;v>l;l++){b(r[l].join(","),i(h,null,I,L,null,g),t)}I="",F=""},100)}else{for(r=d(s),v=r.length,g={count:v},l=0;v>l;l++){b(r[l].join(","),i(h,null,a,e,null,g),t)}}},this.parse=function(e,i){var n,a=e.symbol;switch(e.market){case"CN_TR":n=r(a,null,e.hqStr);break;default:var o=y.kak(e.hqStr,e.market);n=h(a,null,o,null)}t.isFunc(i)&&i(n)}};return c});xh5_define("utils.painter",["utils.util","cfgs.settinger"],function(t,e){function n(){function e(t){function e(t){a=t.hd||a;var e=t.width||n.width||0,i=t.height||n.height||0,s=a;switch(n.style.width=e+"px",n.style.height=i+"px",s){case 0:break;case 1:s=o.hdpr,e*=s,i*=s;break;default:e*=s,i*=s}n.height=n.width=0,n.height=i,n.width=e,s&&1!=s&&r.scale(s,s)}this.VER="2.0.1";var n=i("canvas");"undefined"!=typeof FlashCanvas&&FlashCanvas.initElement(n);var r=n.getContext("2d"),a=1;t&&e(t),this.canvas=n,this.g=r,this.resize=e}function n(n){var i,o,a,s,l,h,d,f,p,g=n.parentObj,v=n.ctn,m=g.sd,y=g.setting,b=0,x=y.DIMENSION.H_TIME_PART,N=g.nu,w=g.fixScale,T=99999,S=function(){i=new e,o=i.canvas,a=i.g,o.style.position="absolute",o.style.zIndex=0,r.addHandler(o,"touchstart",function(t){y.custom.touch_prevent&&r.preventDefault(t)}),v.appendChild(o)},C=function(t){t=t||{},s=y.DIMENSION.getStageW(),b=isNaN(t.mh)?b:t.mh,l=y.DIMENSION.posX,h=y.DIMENSION.RIGHT_W,d=y.DIMENSION.K_RIGHT_W,f=isNaN(t.h)?f:t.h,x=isNaN(t.eh)?x:t.eh,i.resize({width:s,height:f+x+b,hd:y.PARAM.getHd()}),a.font=y.STYLE.FONT_SIZE+"px "+y.STYLE.FONT_FAMILY,a.fillStyle=y.COLOR.BG,a.fillRect(0,0,s,(f+x+b))},k=function(t,e,n,i){t=~~(t+0.5),t-=0.5,e=~~(e+0.5),e-=0.5,n=~~(n+0.5),n-=0.5,a.beginPath(),i?(a.moveTo(t,n),a.lineTo(e,n)):(a.moveTo(n,t),a.lineTo(n,e)),a.stroke()},_=function(t,e){var n;return w?n=isNaN(e)?0>t?Math.floor(t):Math.ceil(t):t.toFixed(e):(t=(10000*t).toFixed(0),n=t/10000,n>T&&(n=Math.floor(n))),n},A=new function(){var e,n,i,o,r,u=4,d=m.futureTime||window["kke_"+m.symbol],p=function(){if(!(m.business||!isNaN(y.custom.mini_threshold.height)&&f<y.custom.mini_threshold.height)){var e=y.DIMENSION.extend_draw,n=l;e?(a.textAlign="left",a.textBaseline="top"):a.textAlign="right",a.fillStyle=y.COLOR.T_N,a.strokeStyle=y.COLOR.GRID,y.DIMENSION.getStageH()<0&&"TFLOW"==m.name&&(m.labelPriceCount=4),!m.isSC&&y.DIMENSION.h_t<150&&(m.labelPriceCount=2);for(var i,o,r,c,u,d=m.labelMaxP,p=N?t.strUtil.nu(d):null,g=m.labelMinP,v=m.labelPriceCount,x=y.DIMENSION.posX,w=d-g,S=f/v,C=0;v>=C;C++){u=C*S+b,a.fillStyle=y.COLOR.T_N,r=d-C*w/v,r>0?a.fillStyle=y.COLOR.T_RISE:0>r&&(a.fillStyle=y.COLOR.T_FALL),e?C==v&&(a.textBaseline="bottom"):a.textBaseline=0==C?"top":C==v?"bottom":"middle";var A;if(m.isCompare){if(m.dAdd<=1){r*=100,c=r.toFixed(2),c+="%",a.fillText(c,x,u),a.fillText(c,x+y.DIMENSION.w_t+a.measureText(c).width,u)}else{A=m.datas[0][0].prevclose;var M,O=r;O*=100,M=O.toFixed(2),M+="%",e?a.fillText(M,y.DIMENSION.w_t-a.measureText(M).width,u):a.fillText(M,x+y.DIMENSION.w_t+a.measureText(M).width,u),r=r*A+A,c=r.toFixed(2),a.fillText(c,x,u)}k(n,s-h,u,!0)}else{if(m.isSC){if(a.fillStyle=y.COLOR.K_P,N){var I=m.name&&"TFLOW"==m.name?2:0;r/=p[0],0==C||C==v?(c=C>=v?p[1]:_(r,I),("NaN"==c||""==c)&&(c=0)):c=""}else{c=0==C||C==v?r.toFixed(1>g?4:2):0,0==c&&0!=C&&C!=v&&(c="")}}else{if(y.DIMENSION.h_t<0){return}A=m.datas[0][0].prevclose;var D="HK"==m.market?3:4,R=1>g?D:m.nfloat||2;"HF"==t.market(m.symbol)&&(3>g?R=4:99>g&&(R=3)),c=Math.abs(r)>T?Math.floor(r):r.toFixed(R),i=100*(r-A)/A,a.fillStyle=i>0?y.COLOR.T_RISE:0>i?y.COLOR.T_FALL:y.COLOR.T_N,o=isNaN(i)?"--%":i.toFixed(2)+"%",e?a.fillText(o,x+y.DIMENSION.w_t-a.measureText(o).width,u):a.fillText(o,x+y.DIMENSION.w_t+a.measureText(o).width,u)}a.fillText(c,x,u),k(n,s-h,u,!0)}}}},v=function(e){m&&t.market(m.symbol),y.DIMENSION.w_t;k(b,f+b,e,!1)},x=function(t,n,i,o,r){if(e=t,g.dt){var s=a.measureText(n).width,l=0;if(l=0==i?0:i==o-1?-s:-s/2,0==o&&(l=r/2-s/2),m.business){a.font="14px "+y.STYLE.FONT_FAMILY;var c=10;(0==i||i==o-1)&&a.fillText(n,t+l,b+f+y.STYLE.FONT_SIZE+2+c)}else{a.fillText(n,t+l,b+f+y.STYLE.FONT_SIZE+2)}}},w=function(t){var e=t.replace("nf_","").replace(/[\d]+$/,"");return"TF"==e||"T"==e?"CFF":"NF"
},S=30,A="ignore",M="ignoreT",O=function(){var e,a=m&&t.market(m.symbol);switch(a){case"US":u=7;break;case"HK":u=5;break;case"NF":case"HF":u=0;break;default:u=4}if(!n){switch(a){case"HF":n=t.tUtil.gata(a,d&&d.time||[["06:00","23:59"],["00:00","05:00"]]);break;case"NF":n=t.tUtil.gata(a,d&&d.time||[["09:00","23:29"],["13:00","02:59"]]);break;case"global_index":n=t.tUtil.gata(a,d&&d.time||[["06:00","23:59"],["00:00","05:00"]]);break;default:n=t.tUtil.gata(a,window["time"+m.symbol])}for("CFF"==w(m.symbol)&&(S=15),i=[],e=0;e<n.length;e+=S){i.push(n[e])}var s=n[n.length-1].split(":")[1];"00"!=s&&"30"!=s&&i.push(n[n.length-1])}o=[],r=[];var l=y.DIMENSION.w_t,c=370,h=70,f=35,p=l/i.length,v=0,b=0;if(g.dt&&"HK"==a){var x=m.hq.time;g.dt&&x>"15:59"&&(x>"16:09"&&(x="16:09"),i[i.length-1]=x),c=415}for(e=0;e<i.length;e++){0==e||e==i.length-1?(o.push(i[e]),r.push(M)):e==u?(o.push(i[e]),r.push(i[e])):c>l?o.push(A):e>0&&u>e?p*(e-v)>h&&p*(u-e)>h?(o.push(i[e]),v=e):o.push(A):(u>v&&(v=u),p*(e-v)>h&&p*(i.length-1-e)>h?(o.push(i[e]),v=e):o.push(A)),0!=e&&e!=u&&e!=i.length-1&&(e>0&&u>e?p*(e-b)>f&&p*(u-e)>f?(r.push(i[e]),b=e):r.push(M):(u>b&&(b=u),p*(e-b)>f&&p*(i.length-1-e)>f?(r.push(i[e]),b=e):r.push(M)))}switch(a){case"NF":d&&("21:00"!=d.time[0][0]?u=15==S?y.DIMENSION._w<=550?9:0:4:c>l&&(u=Math.floor(r.length/2))),o[o.length-1]=30==S?"15:00":"15:15";var N=i[u].split(":");59==N[1]&&(i[u]=Number(N[0])+1+":00"),o[u]=i[u];break;case"HF":c>l&&(u=Math.floor(r.length/2)),o[u]=i[u]}},I=function(){var n=y.DIMENSION.w_t;if(isNaN(y.custom.mini_threshold.width)||!(n<y.custom.mini_threshold.width)){a.textBaseline="bottom",a.textAlign="left",a.strokeStyle=y.COLOR.TIME_L,a.fillStyle=y.COLOR.TIME_S,e=l;var s=m.datas,h=s.length,d=m&&t.market(m.symbol),f=i.length,p=1;"NF"==d&&"CFF"==w(m.symbol)&&(p=1);var b=n/Math.max(f-p,5),N=l,T=550;if(y.DIMENSION.getStageH()<0&&(g.dt=!0),g.dt){var S;if(1==h||h>6){for(S=0;f>S;S++){o[S]!==A&&x(N,o[S],S,f),"HF"==d||"NF"==d?o[S]!==A&&r[S]!==M&&(S==u?v(N,u):v(N)):m.business||r[S]!==M&&(S==u?v(N,u):v(N)),N+=b}}else{if(6>h){for(b=n/h,S=0;h>S;S++){y.DIMENSION._w<T?x(N,c.ds(s[S][0].date,"/",!1,!0,!1,!1),S,0,b):x(N,c.ds(s[S][0].date,"/")+"/"+c.nw(s[S][0].date.getDay()),S,0,b),0!=S&&v(N),N+=b}}}}}};this.drawFrames=function(){C(),O(),I(),p()}},M=new function(){this.iOffsetX=0;var e,n,i,o,r,c=this,h=0,v=22,x=99,w=function(t,e,n){if(isNaN(n)){if(h+x>=t||t>=s-x){return}k(b+1,f+b,t,!1)}if(h=t,g.dt){var i,o=f+b+y.STYLE.FONT_SIZE+3;switch(n){case 1:a.fillText(e,t,o);break;case 2:i=a.measureText(e).width,a.fillText(e,t-i,o);break;case 3:break;default:i=a.measureText(e).width,a.fillText(e,t-(i>>1),o)}}},T=function(){var e=y.DIMENSION.w_k;if(isNaN(y.custom.mini_threshold.width)||!(e<y.custom.mini_threshold.width)){a.textBaseline="bottom",a.textAlign="left",a.strokeStyle=y.COLOR.TIME_L,a.fillStyle=y.COLOR.TIME_S,h=l;var n,i=m.datas,o=i.length;switch(p){case u.URLHASH.KMS:n="sec";break;case u.URLHASH.K1:n="h";break;case u.URLHASH.K5:case u.URLHASH.K10:case u.URLHASH.K15:case u.URLHASH.K30:case u.URLHASH.K60:case u.URLHASH.K120:case u.URLHASH.K240:n=60/p*24>o?"h":"d";break;case u.URLHASH.KD:case u.URLHASH.KDF:case u.URLHASH.KDB:case u.URLHASH.KCL:case u.URLHASH.KCLF:case u.URLHASH.KCLB:n=o>300?"y":28>o?"w":"m";break;default:n=o>300?"y":"m"}for(var r,s,d,f,g,b,N=e/Math.max(o,y.PARAM.minCandleNum),T=c.iOffsetX+l+0.6*N,S=e/x,C=e/(N*v),k=Math.ceil(C/S),_=0,A=0,M=-1,O=-1,I=-1,D=-1,R=-1,L=0;o>L;L++){if(b=i[L],g=b.date,s=g.getMonth(),r=g.getFullYear(),0!=L){if(L>=o-1){w(T+N/2,r+"/"+(s+1)+"/"+g.getDate(),o>=y.PARAM.minCandleNum?2:3)}else{switch(n){case"sec":var H=g.getSeconds();H!=D&&(H=t.strUtil.zp(H),f=t.strUtil.zp(g.getMinutes()),d=t.strUtil.zp(g.getHours()),w(T,d+":"+f+":"+H)),D=Number(H);break;case"min":f=g.getMinutes(),f!=I&&(f=t.strUtil.zp(f),d=t.strUtil.zp(g.getHours()),w(T,d+":"+f)),I=Number(f);break;case"h":d=g.getHours(),d!=O&&(f=t.strUtil.zp(g.getMinutes()),w(T,d+":"+f)),O=d;break;case"d":var F=g.getDate();F!=_&&w(T,r+"/"+(s+1)+"/"+F),_=F;break;case"w":var P=g.getDay();R>P&&w(T,s+1+"/"+g.getDate()),R=P;break;default:case"m":s==M||s%k||w(T,r+"/"+(s+1)),M=s;break;case"y":r!=A&&w(T,r),A=r}T+=N}}else{w(l,r+"/"+(s+1)+"/"+g.getDate(),1)}}}},S=37,A=function(){a.fillStyle=y.COLOR.K_PCT,a.textBaseline="top",a.textAlign="right";for(var t,e,n=m.nfloat||2,i=m.prevclose,o=m.labelPriceCount,r=0,l=f/o,c=m.labelMaxP,h=m.labelMinP,g=c-h;o>=r;r++){if(!(S>l&&1&r)){e=r*l+b,0==r&&e++,t=c-r*g/o,r==o&&(a.textBaseline="bottom");var v;p===u.URLHASH.KMS||p===u.URLHASH.K1?(v=((t-i)/i*100).toFixed(n)+"%",a.fillStyle=t>i?y.COLOR.K_MS_RISE:i>t?y.COLOR.K_MS_FALL:y.COLOR.K_MS_N):v=Math.round((t-i)/i*100)+"%",a.fillText(v,s-d,e)}}},M=function(){var e;switch(y.custom.k_0pct){case"hq":e=m.hq.prevclose;break;case"range":e=m.prevclose;break;default:return}var n=t.xh5_PosUtil.pp(e,m.labelMinP,m.labelMaxP,f)+b;n=~~(n+0.5),n-=0.5;var i=l,o=5;for(a.beginPath();s-d>i;){a.moveTo(i,n),i+=o,a.lineTo(i,n),i+=o}a.strokeStyle=y.COLOR.T_PREV,a.stroke()},O=function(){if(isNaN(y.custom.mini_threshold.height)||!(f<y.custom.mini_threshold.height)){var e=y.DIMENSION.extend_draw;
a.fillStyle=y.COLOR.K_P,a.strokeStyle=y.COLOR.GRID;var n=l;e?(a.textAlign="left",a.textBaseline="top"):a.textAlign="right";for(var i,o,r,c=m.labelPriceCount,h=0,g=y.DIMENSION.posX,v=f/c,x=m.labelMaxP,w=m.labelMinP,T=x-w,C=m.prevclose,O=N?t.strUtil.nu(x):null;c>=h;h++){S>v&&1&h||(o=h*v+b,0==h&&o++,i=x-h*T/c,m.isCompare&&(i*=100),N?(i/=O[0],r=h>=c?O[1]:_(i)):r=_(i),m.isCompare&&(r+="%"),e?h==c&&(a.textBaseline="bottom"):a.textBaseline=0==h?"top":h==c?"bottom":"middle",p===u.URLHASH.KMS&&C&&(a.fillStyle=i>C?y.COLOR.K_MS_RISE:C>i?y.COLOR.K_MS_FALL:y.COLOR.K_MS_N),a.fillText(r,g,o),k(n,s-d,o,!0))}C&&(m.isCompare||(y.custom.show_k_rangepercent&&A(),"no"!=y.custom.k_0pct&&M()))}};this.drawFrames=function(t){(t||m.datas[0].date!=i||m.datas[m.datas.length-1].date!=o||m.labelMaxP!=e||m.labelMinP!=n||p!=r)&&(C(),O(),T()),r=m.viewState.viewId,i=m.datas[0].date,o=m.datas[m.datas.length-1].date,e=m.labelMaxP,n=m.labelMinP}};this.drawBg=function(t,e){m.datas&&(p=m.viewState.viewId,y.datas.isT?A.drawFrames(t):(isNaN(e)||(M.iOffsetX=e,t=!0),M.drawFrames(t)))},this.respos=function(t){C(t),o.style.left=0,o.style.top=y.DIMENSION.posY+"px",this.drawBg(!0)},this.gc=function(){t.domGc(o)},S()}function d(e){var n,o=e.parentObj,c=e.ctn,h=o.iMgr,u=l(o.iTo,null,c),d=o.iClk,f=h.globalDragHandler,p=h.zoomView,g=h.shortClickHandler,v=o.setting,m=v.PARAM.isFlash,y=!m,b=!1,x=300,N={isM:!1,isTch:!1,isP:!1,tCount:void 0,tXOff:-1,isPv:!1,lastIy:null,mDx:0/0,mDy:0/0,isClk:0,isTMin:!1,mvOx:0,vP:function(t){var e,n;if(t.changedTouches){r.preventDefault(t),r.stopPropagation(t);var i=r.getTarget(t),o=t.changedTouches[0],a=i.getBoundingClientRect(),s=a.left,l=a.top;e=o.clientX-s,n=o.clientY-l}else{e=t.offsetX,isNaN(e)&&(e=t.layerX),n=t.offsetY,isNaN(n)&&(n=t.layerY)}u(e,n,t)},vH:function(t){if(!(this.isClk>0)&&v.custom.allow_move){r.preventDefault(t),r.stopPropagation(t);var e=t.changedTouches?t.changedTouches[0].pageX:t.layerX;isNaN(e)&&(e=t.offsetX);var n=t.changedTouches?t.changedTouches[0].pageY:t.layerY;isNaN(n)&&(n=t.offsetY),f(this.mDx,e,this.mDy,n)}},mD:function(t){this.mDx=isNaN(t.layerX)?t.offsetX:t.layerX,this.mDy=isNaN(t.layerY)?t.offsetY:t.layerY,this.isM=this.isP=!0,this.isClk=2,S(!0)},mM:function(t){this.isTch||(b=!0,this.isClk--,this.isP?this.vH(t):this.vP(t))},mU:function(t){this.mDx=0/0,this.mDy=0/0,this.isM=this.isP=!1,f(0/0,0/0,0/0,0/0,t),this.isClk>0&&d&&(this.isClk=0,d()),S(!1)},mO:function(){this.isClk=0,this.isM=this.isP=b=!1,u(0/0,0/0),S(!1)},tR:function(){clearTimeout(this.tCount),this.isPv=this.isTMin=!1},gR:function(){this.tR(),this.tXOff=-1},tCheck:function(t){this.mvOx=t.touches[0].pageX;var e=this;e.isClk=2,this.tCount=setTimeout(function(){e.isPv=!0,e.vP(t),e.isClk=0},x)},tE:function(t){v.custom.touch_prevent&&r.preventDefault(t),this.isPv||g(),this.tR(),this.isTch=b=!1,this.mDx=0/0,this.mDy=0/0,u(0/0,0/0),f(0/0,0/0,0/0,0/0,t),this.isClk>0&&d&&(this.isClk=0,d())},tM:function(t){if(this.isClk--,1==t.touches.length){if(!this.isPv&&!this.isTMin&&Math.abs(this.mvOx-t.touches[0].pageX)<5){return}this.isTMin=!0,clearTimeout(this.tCount),this.isPv?this.vP(t):this.vH(t)}else{if(2==t.touches.length){r.preventDefault(t);var e=t.touches[0],n=t.touches[1];if(this.tXOff>=0){var i=Math.abs(e.pageX-n.pageX);if(i!=this.tXOff){var o=r.getTarget(t),a=s.pageX(o),l=e.pageX-a,c=n.pageX-a;p(i<this.tXOff,[l,c])}}this.tXOff=Math.abs(e.pageX-n.pageX)}}},tS:function(t){switch(this.tR(),v.custom.touch_prevent&&r.preventDefault(t),this.isTch=b=!0,this.lastIy=t.touches[0].pageY,this.mDx=t.changedTouches[0].pageX,this.mDy=t.changedTouches[0].pageY,t.touches.length){case 1:this.tCheck(t);break;case 2:this.gR()}},handleEvent:function(t){if(v.custom.mouse_and_touch){switch(t.type){case"mouseup":this.mU(t);break;case"mousedown":this.mD(t);break;case"mouseout":this.mO();break;case"mousemove":this.mM(t);break;case"touchend":this.tE(t);break;case"touchmove":this.tM(t);break;case"touchstart":this.tS(t)}}}},w=new function(){this.onmouseup=function(t){v.custom.mouse_and_touch&&N.mU(t)},this.onmousedown=function(t){v.custom.mouse_and_touch&&N.mD(t)},this.onmouseout=function(){v.custom.mouse_and_touch&&N.mO()},this.onmousemove=function(t){v.custom.mouse_and_touch&&N.mM(t)}},T=function(){y?n=i("canvas"):(n=i("div"),n.style.backgroundColor="#eee",n.style.opacity=0,n.style.filter="alpha(opacity=0)"),n.style.position="absolute",n.style.zIndex=v.PARAM.I_Z_INDEX;var t;a.istd?t=["touchend","touchmove","touchstart"]:(t=["mousedown","mouseup","mousemove","mouseout"],a.allowt&&(t=t.concat(["touchend","touchmove","touchstart"])));for(var e=t.length;e--;){y?r.addHandler(n,t[e],N):r.addHandler(n,t[e],w["on"+t[e]]||function(){})}c.appendChild(n)},S=function(t){t?(n.style.cursor="grabbing",n.style.cursor="-webkit-grabbing"):n.style.cursor="default"};this.respos=function(t){n.style.top=v.DIMENSION.posY+t.mh+"px",n.style.left=v.DIMENSION.posX+"px";var e;e=v.datas.isT?v.DIMENSION.w_t:v.DIMENSION.w_k,n.style.width=e+"px",n.style.height=t.h+"px"},this.gc=function(){t.domGc(n)},T()
}function f(e){this.VER="2.2.8",e=h({setting:void 0,sd:void 0,ctn:void 0,reO:void 0,withHBg:!1,nu:!1,dt:!0,fixScale:!0,iTo:function(){},iMgr:void 0,iClk:void 0},e||{});var r,a,s,l,c,u=e.setting,f=function(){e.ctn?r=e.ctn:(r=i("div"),r.style.position="relative")},p=function(){a=i("canvas"),"undefined"!=typeof FlashCanvas&&FlashCanvas.initElement(a),a.style.position="absolute",a.style.zIndex=u.PARAM.G_Z_INDEX,s=a.getContext("2d"),r.appendChild(a)},g=function(){c=new d({parentObj:e,ctn:r})},v=function(){l=new n({parentObj:e,ctn:r})},m=function(t){t=t||{};var e,n,i=isNaN(t.mh)?u.DIMENSION.H_T_T:t.mh,s=isNaN(t.eh)?u.DIMENSION.H_TIME_PART:t.eh,h=u.PARAM.getHd();switch(e=u.datas.isT?u.DIMENSION.w_t:u.DIMENSION.w_k,n=isNaN(t.h)?u.DIMENSION.h_k:t.h,t.h=n,t.mh=i,t.eh=s,r.style.height=n+i+s+"px",a.style.top=u.DIMENSION.posY+i+"px",a.style.left=u.DIMENSION.posX+"px",a.style.width=e+"px",a.style.height=n+"px",h){case 0:break;case 1:h=o.hdpr,e*=h,n*=h;break;default:e*=h,n*=h}a.width=e,a.height=n,c&&c.respos(t),l&&l.respos(t)};this.resize=m,this.getCanvas=function(){return a},this.getG=function(){return s},this.getWrap=function(){return r};var y;this.scale=function(t){switch(t){case 0:return;case 1:t=o.hdpr}t&&s.scale(t,t)},this.newGStyle=function(t){for(var e in t){t.hasOwnProperty(e)&&(s[e]=t[e])}},this.newStyle=function(t,e,n){y=s.strokeStyle=t,e&&s.beginPath(),n&&(s.lineWidth=n)},this.newFillStyle=function(t,e){if(t&&!(t.length<1)){var n=t.length;if(1==n){s.fillStyle=t[0]}else{if(n>1){for(var i=s.createLinearGradient(0,0,0,e),o=0;n>o;o++){i.addColorStop(1/(n-1)*o,t[o])}s.fillStyle=i}}}},this.newFillStyle_rgba=function(e,n,i){for(var o=t.isArr(i)?i:[i],r=s.createLinearGradient(0,0,0,n),a=0,l=e.length;l>a;a++){r.addColorStop(1/(l-1)*a,t.hex2dec(e[a],o[a]||0))}s.fillStyle=r},this.clear=function(t,e){a.width=a.width,t&&(y&&s.strokeStyle!=y&&(s.strokeStyle=y),s.beginPath()),this.scale(e)},this.clearLimit=function(t,e){s.clearRect(t,0,e,a.height),s.beginPath()},this.beginPath=function(){s.beginPath()},this.closePath=function(){s.closePath()},this.fill=function(){s.fill()},this.stroke=function(){s.stroke()},this.save=function(){s.save()},this.translate=function(t,e){s.translate(t,e)},this.restore=function(){s.restore()},this.moveTo=function(t,e){s.moveTo(t,e)},this.lineTo=function(t,e){s.lineTo(t,e)},this.drawDot=function(t,e,n,i){i&&s.moveTo(t,e),s.arc(t,e,n,0,2*Math.PI)},this.arc=function(t,e,n,i,o,r){s.arc(t,e,n,i,o,r)},this.drawCandleRect=function(t,e,n,i,o,r){if(e!=n&&!(2>i)){var a=n-e;t+=0.5*i,i=~~(i+0.5),t=~~(t+0.5),e=~~(e+0.5),a=~~(a+0.5),s.lineWidth=1,r?(t-=0.5,e-=0.5,s.strokeStyle=o,s.strokeRect(t,e,i,a)):(1>a&&(a=1),s.fillStyle=o,s.fillRect(t,e,i,a),t-=0.5,e-=0.5,s.strokeStyle=o,s.strokeRect(t,e,i,a))}},this.drawCandleRect_solid=function(t,e,n,i,o){if(e!=n&&!(2>i)){var r=n-e;t+=0.5*i,i=~~(i+0.5),t=~~(t+0.5),e=~~(e+0.5),r=~~(r+0.5),s.lineWidth=1,s.fillStyle=o,s.fillRect(t,e,i,r),t-=0.5,e-=0.5,s.strokeStyle=o,s.strokeRect(t,e,i,r)}},this.drawCandleLineRect=function(t,e,n,i,o,r,a,l){if(t+=r,t=~~(t+0.5),s.strokeStyle=a,s.lineWidth=1,n==i){var c=0.5*r;c=~~(c+0.5),0.5>c&&(c=0.5),n=~~(n+0.5),n-=0.5,s.moveTo(t-c,n),s.lineTo(t+c,n)}if(e!=o){if(t-=0.5,s.moveTo(t,e),l&&r>=2){var h=Math.min(n,i),u=Math.max(n,i);s.lineTo(t,h),s.moveTo(t,u)}s.lineTo(t,o)}},this.drawOhlc=function(t,e,n,i,o,r,a){s.strokeStyle=a,s.lineWidth=1;var l=0.5*r;l=~~(l+0.5),0.5>l&&(l=0.5),t+=r,t=~~(t+0.5),e=~~(e+0.5),e-=0.5,s.moveTo(t-l,e),s.lineTo(t,e),o=~~(o+0.5),o-=0.5,s.moveTo(t,o),s.lineTo(t+l,o),t-=0.5,s.moveTo(t,n),s.lineTo(t,i)},this.drawVStickC=function(t,e,n,i,o){t+=n,n=~~(n+0.5),1>n&&(n=1),t=~~(t+0.5),1&n&&(t-=0.5),e=~~(e+0.5),i=~~(i-0.5),s.strokeStyle=o,s.lineWidth=n,s.moveTo(t,e),s.lineTo(t,e+i)},this.drawVStickRect=function(t,e,n,i,o,r){t+=0.5*n;var a=n;t=~~(t+0.5),a=~~(a+0.5),e=~~(e+0.5),i=~~(i+0.5),0==i&&(i=1),r?(0.5>a&&(a=0.5),s.fillStyle=o,s.fillRect(t,e,a,i)):(t-=0.5,e-=0.5,s.strokeStyle=o,s.strokeRect(t,e,a,i))},this.drawBg=function(t){l&&l.drawBg(!1,t)},this.remove=function(){t.domGc(a),c&&c.gc(),l&&l.gc()},f(),p(),e.withHBg&&(g(),v()),m(e.reO)}this.xh5_ibPainter=f,this.xh5_Canvas=e}var i=t.$C,o=t.xh5_BrowserUtil,r=t.xh5_EvtUtil,a=t.xh5_deviceUtil,s=t.xh5_HtmlPosUtil,l=t.fBind,c=t.dateUtil,h=t.oc,u=e.globalCfg;return n});